local a={Version="0.35",WorkspaceName="Pepsi Lib",flags={};signals={},objects={},elements={};globals={},subs={};colored={};configuration={hideKeybind=Enum.KeyCode.RightShift;smoothDragging=false,easingStyle=Enum.EasingStyle.Quart,easingDirection=Enum.EasingDirection.Out},colors={main=Color3.fromRGB(255,39,39);background=Color3.fromRGB(40,40,40),outerBorder=Color3.fromRGB(15,15,15);innerBorder=Color3.fromRGB(73,63,73);topGradient=Color3.fromRGB(35,35,35);bottomGradient=Color3.fromRGB(29,29,29);sectionBackground=Color3.fromRGB(35,34,34),section=Color3.fromRGB(176,175,176);otherElementText=Color3.fromRGB(129,127,129),elementText=Color3.fromRGB(147,145,147),elementBorder=Color3.fromRGB(20,20,20);selectedOption=Color3.fromRGB(55,55,55),unselectedOption=Color3.fromRGB(40,40,40),hoveredOptionTop=Color3.fromRGB(65,65,65),unhoveredOptionTop=Color3.fromRGB(50,50,50),hoveredOptionBottom=Color3.fromRGB(45,45,45),unhoveredOptionBottom=Color3.fromRGB(35,35,35),tabText=Color3.fromRGB(185,185,185)};gui_parent=(function()local a,b=pcall(function()return game:GetService("CoreGui")end)if a and b then return b end a,b=pcall(function()return(game:IsLoaded()or game.Loaded:Wait()or 1)and(game:GetService("Players")).LocalPlayer:WaitForChild("PlayerGui")end)if a and b then return b end a,b=pcall(function()return game:GetService("StarterGui")end)if a and b then return b end return error("Seriously bad engine. Can\'t find a place to store the GUI. Robust code can\'t help this much incompetence.")end)(),colorpicker=false;colorpickerconflicts={};rainbowflags={};rainbows=0;rainbowsg=0}a.Subs=a.subs local b=a.flags a.Flags=b local c,d=nil function darkenColor(a,b)if not b or b==1 then return a end if a and(typeof(a)=="Color3"or type(a)=="table")then return Color3.new(a.R/b,a.G/b,a.B/b)end end a.subs.darkenColor=darkenColor local e=true local function f(...)if e then return wait(...)else wait()return false end end a.subs.Wait,a.subs.wait=f,f function a.IsGuiValid()return e end local g=0 local h=game:FindService("MarketplaceService")or game:GetService("MarketplaceService")local i=h and(cloneref and cloneref(h))or h local j,k=nil do local b=string.lower function a.defaultSort(a,c)return b(tostring(c))>b(tostring(a))end end do local a={Window={"Name","Theme"};Tab={"Name";"Image"};Section={"Name","Side"},Label={"Text","Flag";"UnloadValue","UnloadFunc"},Toggle={"Name";"Value";"Callback","Flag","Location";"LocationFlag","UnloadValue","UnloadFunc";"Locked";"Keybind";"Condition";"AllowDuplicateCalls"},Textbox={"Name";"Value","Callback";"Flag";"Location";"LocationFlag","UnloadValue";"UnloadFunc";"Placeholder";"Type","Min","Max","Decimals","Hex","Binary","Base","RichTextBox";"MultiLine";"TextScaled";"TextFont","PreFormat";"PostFormat";"CustomProperties";"AllowDuplicateCalls"};Slider={"Name","Value";"Callback","Flag","Location","LocationFlag";"UnloadValue";"UnloadFunc";"Min";"Max";"Decimals";"Format";"IllegalInput";"Textbox";"AllowDuplicateCalls"};Button={"Name","Callback","Locked","Condition"};Keybind={"Name","Value","Callback";"Flag";"Location","LocationFlag","UnloadValue","UnloadFunc";"Pressed","KeyNames","AllowDuplicateCalls"},Dropdown={"Name","Value","Callback";"Flag","Location","LocationFlag";"UnloadValue","UnloadFunc","List";"Filter";"Method","Nothing","Sort","MultiSelect","ItemAdded","ItemRemoved";"ItemChanged","ItemsCleared","ScrollUpButton","ScrollDownButton";"ScrollButtonRate";"DisablePrecisionScrolling","AllowDuplicateCalls"},SearchBox={"Name","Value";"Callback","Flag";"Location","LocationFlag";"UnloadValue";"UnloadFunc";"List";"Filter","Method";"Nothing","Sort","MultiSelect","ItemAdded","ItemRemoved","ItemChanged";"ItemsCleared";"ScrollUpButton","ScrollDownButton";"ScrollButtonRate";"DisablePrecisionScrolling";"RegEx";"AllowDuplicateCalls"};Colorpicker={"Name";"Value","Callback";"Flag","Location","LocationFlag";"UnloadValue";"UnloadFunc","Rainbow";"Random";"AllowDuplicateCalls"};Persistence={"Name";"Value","Callback","Flag";"Location","LocationFlag";"UnloadValue";"UnloadFunc","Workspace";"Persistive";"Suffix";"LoadCallback","SaveCallback";"PostLoadCallback","PostSaveCallback","ScrollUpButton","ScrollDownButton";"ScrollButtonRate","DisablePrecisionScrolling";"AllowDuplicateCalls"},Designer={"Backdrop";"Image","Info","Credit"}}function j(b,...)local c=a[b]local d={}if c then for a,b in next,{...}do d[c[a]]=b end end return d end end local l={}a.resolvercache=l local function m(b,c)if b then if type(b)=="string"then if#b>14 and string.sub(b,1,13)=="rbxassetid://"or#b>12 and string.sub(b,1,11)=="rbxasset://"or#b>12 and string.sub(b,1,11)~="rbxthumb://"then if c then local d=a.elements[c]or a.designerelements[c]if d and d.Set then task.spawn(d.Set,d,b)end end return b end end local d=b if l[d]then if c then local b=a.elements[c]or a.designerelements[c]if b and b.Set then task.spawn(b.Set,b,l[d])end end return l[d]end b=tonumber(b)or b local e=pcall(function()local a=type(b)if a=="string"then if getsynasset then if#b>11 and string.sub(b,1,11)=="synasset://"then return getsynasset(string.sub(b,12))elseif#b>14 and string.sub(b,1,14)=="synasseturl://"then local a,c=pcall(function()local a,c=string.gsub(b,".",function(a)if a:lower()==a:upper()and not tonumber(a)then return""end end)a=string.sub(a,1,24)..tostring(c)local d=isfolder("./Pepsi Lib")if d then else makefolder("./Pepsi Lib")end d=isfolder("./Pepsi Lib/Themes")if d then else makefolder("./Pepsi Lib/Themes")end d=isfolder("./Pepsi Lib/Themes/SynapseAssetsCache")if d then else makefolder("./Pepsi Lib Themes/SynapseAssetsCache")end if not d or not isfile("./Pepsi Lib/Themes/SynapseAssetsCache/"..(a..".dat"))then local c=game:HttpGet(string.sub(b,15))if c~=nil then writefile("./Pepsi Lib/Themes/SynapseAssetsCache/"..(a..".dat"),c)end end return getsynasset(readfile("./Pepsi Lib/Themes/SynapseAssetsCache/"..(a..".dat")))end)if a and c~=nil then return c end end end if#b<11 or string.sub(b,1,13)~="rbxassetid://"and(string.sub(b,1,11)~="rbxasset://"and string.sub(b,1,11)~="rbxthumb://")then b=tonumber(b:gsub("%D",""),10)or b a=type(b)end end if a=="number"and b>0 then pcall(function()local a=i and i:GetProductInfo(b)b=tostring(b)if a and a.AssetTypeId==1 then b="rbxassetid://"..b elseif a.AssetTypeId==13 then local a=(game:GetObjects("rbxassetid://"..b))[1]b="rbxassetid://"..(a and a.Texture or"0"):match("%d+$")a=a and(a:Destroy()and nil)or nil end end)else b=nil end end)if e and b then if d then l[d]=b end l[b]=b if c then local d=a.elements[c]or a.designerelements[c]if d and d.Set then task.spawn(d.Set,d,b)end end end end return b end a.subs.ResolveID=m a.resolvercache=l local n,o=a.colored,a.colors local p=game:GetService("TweenService")local q,r=nil do local c=0 spawn(function()local b=game.IsDescendantOf local d=table.remove while f()do wait(10)local e=30 for a=#n,1,-1 do if c>0 then break end e-=1 if e<=0 then e=30 if f()then if c>0 then break end else return end end if c>0 then break end local g=n[a]g=g and g[1]if g and(typeof(g)=="Instance"and b(g,r))then elseif c<=0 then d(n,a)else break end end local g=a.signals local h=g and#g if h then local a=math.round(h/10)a=a<1 and 1 or a for b=h,1,-1 do e-=1 if e<=0 then e=a if f()then else return end end local c=n[b]if c and(typeof(c)=="RBXScriptConnection"and c.Connected)then else d(n,b)end end end end end)local function d(b,c)local d=o[b[3]]local e=b[4];(p:Create(b[1],TweenInfo.new(c,a.configuration.easingStyle,a.configuration.easingDirection),{[b[2]]=e and(e~=1 and darkenColor(d,e))or d})):Play()end local function e(a)local b=o[a[3]]local c=a[4]a[1][a[2]]=c and(c~=1 and darkenColor(b,c))or b end function q(f)c+=1 if a.objects and(#a.objects>0 or next(a.objects))then for a,b in next,n do local c,g if f then c,g=pcall(d,b,f)end if not c then local a,c=pcall(e,b)if not a and c then warn(debug.traceback(c))end end end pcall(function()if a.Backdrop then a.Backdrop.Visible=b["__Designer.Background.UseBackgroundImage"]and true a.Backdrop.Image=m(b["__Designer.Background.ImageAssetID"],"__Designer.Background.ImageAssetID")or""a.Backdrop.ImageColor3=b["__Designer.Background.ImageColor"]or Color3.new(1,1,1)a.Backdrop.ImageTransparency=(b["__Designer.Background.ImageTransparency"]or 95)/100 end end)end c-=1 end end local function s()q()end a.subs.updatecolors=q a.colors=setmetatable({},{__index=o;__newindex=function(a,b,c)if o[b]~=c then o[b]=c spawn(s)end end})local t=a.elements shared.libraries=shared.libraries or{}local u=a.colorpickerconflicts local v={notAllowedKeys={[Enum.KeyCode.Return]=true,[Enum.KeyCode.Space]=true;[Enum.KeyCode.Tab]=true,[Enum.KeyCode.Unknown]=true,[Enum.KeyCode.Backspace]=true};notAllowedMouseInputs={[Enum.UserInputType.MouseMovement]=true,[Enum.UserInputType.MouseWheel]=true,[Enum.UserInputType.MouseButton1]=true,[Enum.UserInputType.MouseButton2]=true;[Enum.UserInputType.MouseButton3]=true},allowedKeys={[Enum.KeyCode.LeftShift]="LShift";[Enum.KeyCode.RightShift]="RShift",[Enum.KeyCode.LeftControl]="LCtrl";[Enum.KeyCode.RightControl]="RCtrl";[Enum.KeyCode.LeftAlt]="LAlt",[Enum.KeyCode.RightAlt]="RAlt";[Enum.KeyCode.CapsLock]="CAPS",[Enum.KeyCode.One]="1";[Enum.KeyCode.Two]="2";[Enum.KeyCode.Three]="3";[Enum.KeyCode.Four]="4";[Enum.KeyCode.Five]="5";[Enum.KeyCode.Six]="6",[Enum.KeyCode.Seven]="7",[Enum.KeyCode.Eight]="8";[Enum.KeyCode.Nine]="9",[Enum.KeyCode.Zero]="0";[Enum.KeyCode.KeypadOne]="Num-1",[Enum.KeyCode.KeypadTwo]="Num-2",[Enum.KeyCode.KeypadThree]="Num-3",[Enum.KeyCode.KeypadFour]="Num-4",[Enum.KeyCode.KeypadFive]="Num-5";[Enum.KeyCode.KeypadSix]="Num-6",[Enum.KeyCode.KeypadSeven]="Num-7",[Enum.KeyCode.KeypadEight]="Num-8",[Enum.KeyCode.KeypadNine]="Num-9";[Enum.KeyCode.KeypadZero]="Num-0",[Enum.KeyCode.Minus]="-",[Enum.KeyCode.Equals]="=";[Enum.KeyCode.Tilde]="~";[Enum.KeyCode.LeftBracket]="[";[Enum.KeyCode.RightBracket]="]",[Enum.KeyCode.RightParenthesis]=")",[Enum.KeyCode.LeftParenthesis]="(",[Enum.KeyCode.Semicolon]=";",[Enum.KeyCode.Quote]="\'";[Enum.KeyCode.BackSlash]="\\",[Enum.KeyCode.Comma]=",";[Enum.KeyCode.Period]=".",[Enum.KeyCode.Slash]="/",[Enum.KeyCode.Asterisk]="*";[Enum.KeyCode.Plus]="+";[Enum.KeyCode.Period]=".";[Enum.KeyCode.Backquote]="`"}}local w=nil function w(a,b)b=b or{}for c,d in next,a do a[c]=nil if d~=nil then if b[d]then continue end local a=d and typeof(d)if a then if a=="RBXScriptConnection"then d:Disconnect()elseif a=="Instance"then d:Destroy()elseif a=="table"then b[d]=true w(d,b)end end end end end local function x(a)if a.UnloadCallback and type(a.UnloadCallback)=="function"then local b,c=pcall(a.UnloadCallback)if not b and c then task.spawn(error,c,2)end end for a,b in next,t do if b.Type~="Persistence"then if b.Set and b.Options.UnloadValue~=nil then b.Set(b.Options.UnloadValue)end if b.Options.UnloadFunc then local c,d=pcall(b.Options.UnloadFunc)if not c and d then warn(debug.traceback("Error unloading \'"..(tostring(a)..("\'\n"..d))))end end end end local b={}w(a.signals,b)w(a.objects,b)b=table.clear(b)and nil or nil a.signals=nil a.objects=nil end a.Subs.UnloadArg=x local function y()if shared.libraries then local b=50 while#shared.libraries>0 do b=b-1 if b<0 then b=50 wait(warn("Looped 50 times while unloading....?"))end local c=shared.libraries[1]if c and(c.unload and type(c.unload)=="function")then if not pcall(c.unload)then pcall(x,c)for a in next,c do c[a]=nil end end if shared.libraries then pcall(function()table.remove(shared.libraries,1)end)else return pcall(x,a)end end end end shared.libraries=nil end shared.unloadall=y a.unloadall=y shared.libraries[1+#shared.libraries]=a function a.unload()e=nil x(a)if shared.libraries then for b,c in next,shared.libraries or{}do if c==a then for a in next,table.remove(shared.libraries or{},b)do c[a]=nil end break end end if shared.libraries and#shared.libraries==0 then shared.libraries=nil end end warn("Unloaded")end a.Unload=a.unload local z=syn and(syn.protect_gui and function(...)local b={Instance.new(...)}if b[1]then a.objects[1+#a.objects]=b[1]pcall(syn.protect_gui,b[1])end return unpack(b)end)or function(...)local b={Instance.new(...)}if b[1]then a.objects[1+#a.objects]=b[1]end return unpack(b)end a.subs.Instance_new=z local A=game:GetService("Players")local function B(a,b,c,d)local e,f=type(b),{}local g=typeof(a)return g=="function"and function(...)return a(...)end or g=="table"and function()return a end or function()local d=nil local h=a for b=1,5,1 do d=typeof(h)if d=="function"then local b,c=pcall(a)if b and c then h=c end d=typeof(h)end if d=="Instance"then local b=h if c==nil and a==A then h=a:GetPlayers()end if c then local b=type(c)if b=="table"then c=c.Method or c[1]f=c.Args or c.Arguments or unpack(c,c.Method~=nil and 1 or 2)b=type(c)end local d,e=nil,nil if b=="function"then d,e=pcall(c,a,unpack(f))elseif b=="string"then local b,d=pcall(function()return a[c](a,unpack(f))end)else warn("Idk how to handle method type of",b,debug.traceback(""))end if e then if d then h=e else warn("Error trying method",c,"on",a,debug.traceback(e))end end end if h==b then h=a:GetChildren()end end if d=="Enum"then h=a:GetEnumItems()end d=typeof(h)if d=="table"then break end end d=typeof(h)if d~="table"then warn("Could not resolve "..(g.." type to a list."))return{}end if b then if e=="function"then local a={}for c,d in next,h do local e,f=pcall(b,d)if e and f then a[1+#a]=f==true and d or f end end h=a elseif e=="string"then local a={}for b,c in next,h do if((tostring(c)):lower()):find(e)then a[1+#a]=c end end h=a elseif e=="table"then local a={}if type(b[1])=="string"then for c,d in next,h do if((tostring(d)):lower()):find(e)then a[1+#a]=d elseif b[0]then a[1+#a]=d end end else for c,d in next,h do if not table.find(b,d)and not table.find(b,tostring(d))then a[1+#a]=d elseif not b[0]then a[1+#a]=d end end end h=a end end return h end end a.subs.GetResolver=B local function C()d=true pcall(function()for a,c in next,t do if c and(a and(c.Set and(c.Default~=nil and(b[a]~=c.Default and string.sub(a,1,11)~="__Designer."))))then c:Set(c.Default)end end end)end a.ResetAll=C local D=game:GetService("TextService")local E=game:GetService("UserInputService")local F=game:GetService("RunService")local G=A.LocalPlayer a.LP=G a.Players=A a.UserInputService=E a.RunService=F local H=G and G:GetMouse()if not H and(PluginManager and F:IsStudio())then shared.library_plugin=shared.library_plugin or print("Creating Studio Test-Plugin...")or(PluginManager()):CreatePlugin()H=shared.library_plugin:GetMouse()a.plugin=shared.library_plugin end a.Mouse=H local I=nil do local a=game:GetService("TextService")local b=Vector2.one*math.huge function I(c)return a:GetTextSize(c.Text,c.TextSize,c.Font,b)end end a.subs.textToSize=I local function J(a)if a then local b=a:gsub(" ","")return b end end a.subs.removeSpaces=J local function K(a)a=((a:gsub("#","")):upper()):gsub("0X","")return Color3.fromRGB(tonumber(a:sub(1,2),16),tonumber(a:sub(3,4),16),tonumber(a:sub(5,6),16))end a.subs.Color3FromHex=K local L=math.floor local function M(a)local b,c,d=string.format("%X",L(a.R*255)),string.format("%X",L(a.G*255)),string.format("%X",L(a.B*255))if#b<2 then b="0"..b end if#c<2 then c="0"..c end if#d<2 then d="0"..d end return string.format("%s%s%s",b,c,d)end if Color3.ToHex and not shared.overridecolortohex then local a,b=pcall(Color3.ToHex,Color3.new())if a and(type(b)=="string"and#b==6)then M=Color3.ToHex end end a.subs.Color3ToHex=M local N=false local function O(b,c)local d=nil local e=nil local f=nil local g=nil a.signals[1+#a.signals]=b.InputBegan:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseButton1 or a.UserInputType==Enum.UserInputType.Touch then d=true f=a.Position g=c.Position a.Changed:Connect(function()if a.UserInputState==Enum.UserInputState.End then d=false end end)end end)a.signals[1+#a.signals]=b.InputChanged:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseMovement or a.UserInputType==Enum.UserInputType.Touch then e=a end end)a.signals[1+#a.signals]=E.InputChanged:Connect(function(b)if b==e and d then local d=b.Position-f if not N and a.configuration.smoothDragging then(p:Create(c,TweenInfo.new(.25,a.configuration.easingStyle,a.configuration.easingDirection),{Position=UDim2.new(g.X.Scale,g.X.Offset+d.X,g.Y.Scale,g.Y.Offset+d.Y)})):Play()elseif not N and not a.configuration.smoothDragging then c.Position=UDim2.new(g.X.Scale,g.X.Offset+d.X,g.Y.Scale,g.Y.Offset+d.Y)end end end)end a.subs.makeDraggable=O local P,Q=nil,nil do local b=game:FindService("HttpService")or game:GetService("HttpService")local c=b if cloneref and type(cloneref)=="function"then c,b=cloneref(c),nil end a.Http=c local d=c.JSONEncode function P(...)return pcall(d,c,...)end a.JSONEncode=P local e=c.JSONDecode function Q(...)return pcall(e,c,...)end a.JSONDecode=Q end local R do local b=string.gsub function R(a,c,d)d=d or"_"local e=0 local f=b(a,"%W",function(a)local b=a:byte()if b==0 or b==32 or b==33 or b==59 or b==61 or b>=35 and b<=41 or b>=43 and b<=57 or b>=64 and b<=123 or b>=125 and b<=127 then else e=1+e return d end end)return c and(e==#f and tostring(c))or f end a.subs.ConvertFilename=R end do do local function b(b,c,d)local e=z("Frame")local f=z("Frame")local g=z("Frame")local h=z("Frame")local i=z("TextLabel")local j=z("TextButton")e.AnchorPoint=Vector2.new(0,.5)e.BackgroundColor3=a.colors.background n[1+#n]={e,"BackgroundColor3","background"}e.BorderColor3=Color3.fromRGB(27,27,27)e.LayoutOrder=c or#d:GetChildren()e.Name="Option"e.Position=UDim2.new(0,5,.5,0)e.Size=UDim2.new(0,35,0,25)f.AnchorPoint=Vector2.new(.5,.5)f.BackgroundColor3=a.colors.background n[1+#n]={f;"BackgroundColor3","background"}f.BorderColor3=Color3.fromRGB(50,43,50)f.BorderMode=Enum.BorderMode.Inset f.Name="BBorder"f.Parent=e f.Position=UDim2.new(.5,0,.5,0)f.Size=UDim2.new(1,0,1,0)g.AnchorPoint=Vector2.new(.5,.5)g.BackgroundColor3=a.colors.background n[1+#n]={g,"BackgroundColor3","background"}g.BorderColor3=Color3.fromRGB(27,27,27)g.Name="Inner"g.Parent=e g.Position=UDim2.new(.5,0,.5,0)g.Size=UDim2.new(1,-6,1,-6)h.AnchorPoint=Vector2.new(.5,.5)h.BackgroundColor3=a.colors.background n[1+#n]={h,"BackgroundColor3","background"}h.BorderColor3=Color3.fromRGB(50,43,50)h.BorderMode=Enum.BorderMode.Inset h.Name="Border"h.Parent=g h.Position=UDim2.new(.5,0,.5,0)h.Size=UDim2.new(1,0,1,0)i.AnchorPoint=Vector2.new(.5,.5)i.BackgroundColor3=Color3.fromRGB(255,255,255)i.BackgroundTransparency=1 i.Font=Enum.Font.Code i.FontSize=Enum.FontSize.Size14 i.Name="Text"i.Parent=h i.Position=UDim2.new(.5,0,.5,0)i.Size=UDim2.new(1,0,1,0)i.TextColor3=a.colors.elementText n[1+#n]={i,"TextColor3";"elementText"}i.TextSize=14 i.TextStrokeTransparency=.75 j.BackgroundColor3=Color3.fromRGB(255,255,255)j.BackgroundTransparency=1 j.BorderSizePixel=0 j.Font=Enum.Font.SourceSans j.FontSize=Enum.FontSize.Size14 j.Name="Button"j.Parent=e j.Size=UDim2.new(1,0,1,0)j.Text=""j.TextColor3=Color3.fromRGB(0,0,0)j.TextSize=14 j.TextTransparency=1 i.Text=b local k=I(i)e.Size=UDim2.new(0,math.max(k.X,28)+12,0,25)e.Parent=d return e,j,i end local function c(a,c,d,e,f,g,h)local i=a.Enabled if a.Disabled then i=false else i=i or i==nil end local j=a.Text or a.String or a.Message or a.Value or a.Name or c local k=a.Callback or a.OnPressed or a.Function or nil local l=tonumber(a.Slot or a.Order or a.LayoutOrder or a.Index or d)local m,n,o=b(tostring(j),l,e)local p={Text=j;Callback=k,ButtonObject=m,Pressed=n.MouseButton1Click,PressedRight=n.MouseButton2Click,Activated=n.Activated,TextButton=n,Order=l,Enabled=i}function p.Remove()do local a=p.ButtonObject if a then a:Destroy()end end for a in next,p do rawset(p,a,nil)end return true end local q=nil local function r(a)return function(...)if a then task.spawn(a,...)end g:Fire(c,n.Text,...)if h then else f()end end end function p.Press(...)p.Update()q=q or r(k)q(...)end function p.Lock()p.Enabled=false p.Update()end function p.Unlock()p.Enabled=true p.Update()end function p.SetLocked(a,b)if type(a)=="boolean"then b=a end p.Enabled=b p.Update()end function p.SetCondition(a,b)if type(a)~="table"then b=a end p.Condition=b p.Update()end function p.Update()do local b=p.Text or a.Text or a.String or a.Message or a.Value or a.Name or n.Text or c n.Text=tostring(b)end m.LayoutOrder=tonumber(p.Order or a.Slot or a.Order or a.LayoutOrder or a.Index or m.LayoutOrder or d)do local b=a.Enabled local c=p.Condition if c then local a,d=pcall(c,p)if a then b=d and true else warn(debug.traceback(string.format("Error in prompt-option %s\'s Condition function: %s",n.Text,d),2))end else if a.Disabled then b=false else b=b and true or b==nil end end local d=nil do local c=b and(a.Callback or a.OnPressed or a.Function)or nil if not d or k~=c then k=c d=r(k)p.PressedConnection=p.PressedConnection and(p.PressedConnection:Disconnect()and nil)or k and p.Pressed:Connect(d)or nil end local e=p.PressedConnection if b then if e then if k then else p.PressedConnection=e:Disconnect()and nil or nil end elseif k then d=d or r(k)p.PressedConnection=p.Pressed:Connect(d)end elseif e then p.PressedConnection=e:Disconnect()and nil or nil end end p.Enabled=b o.TextTransparency=b and 0 or.5 end return p end p.Update()return p end local function d(a,b)return a.Order<b.Order end local e={Ok=true}function a.Prompt(b,f,...)if rawequal(b,a)then else f,b=b,a end local g=z("BindableEvent")local h={OnSelect=g.Event;Active=true;SelectedEvent=g}local i=z("Frame")local j=z("ScrollingFrame")local k=z("TextLabel")local l=z("TextLabel")local m=f.CloseButton m=m==nil or m==true or m or nil local o=m and z("ImageButton")do local b=z("Frame")local c=z("Frame")local d=z("Frame")local e=z("Frame")local f=z("Frame")local g=z("Frame")local h=z("UIListLayout")i.AnchorPoint=Vector2.new(.5,.5)i.BackgroundColor3=a.colors.background n[1+#n]={i,"BackgroundColor3","background"}i.BorderColor3=a.colors.outerBorder n[1+#n]={i;"BorderColor3";"outerBorder"}i.Name="ChoicePopup"i.Position=UDim2.new(.5,0,.5,0)i.Size=UDim2.new(0,325,0,100)b.AnchorPoint=Vector2.new(.5,.5)b.BackgroundColor3=a.colors.background n[1+#n]={b;"BackgroundColor3";"background"}b.BorderColor3=a.colors.innerBorder n[1+#n]={b,"BorderColor3","innerBorder"}b.BorderMode=Enum.BorderMode.Inset b.Name="Border"b.Parent=i b.Position=UDim2.new(.5,0,.5,0)b.Size=UDim2.new(1,0,1,0)c.AnchorPoint=Vector2.new(.5,.5)c.BackgroundColor3=a.colors.background n[1+#n]={c,"BackgroundColor3";"background"}c.BorderColor3=a.colors.outerBorder n[1+#n]={c;"BorderColor3","outerBorder"}c.Name="Inner"c.Parent=i c.Position=UDim2.new(.5,0,.5,0)c.Size=UDim2.new(1,-8,1,-8)d.AnchorPoint=Vector2.new(.5,.5)d.BackgroundColor3=a.colors.background n[1+#n]={d;"BackgroundColor3";"background"}d.BorderColor3=a.colors.innerBorder n[1+#n]={d;"BorderColor3";"innerBorder"}d.BorderMode=Enum.BorderMode.Inset d.Name="InnerBorder"d.Parent=c d.Position=UDim2.new(.5,0,.5,0)d.Size=UDim2.new(1,0,1,0)e.BackgroundColor3=a.colors.main n[1+#n]={e,"BackgroundColor3","main"}e.BorderSizePixel=0 e.Name="Bar"e.Parent=d e.Size=UDim2.new(1,0,0,3)f.AnchorPoint=Vector2.new(0,1)f.BackgroundColor3=Color3.fromRGB(38,38,38)f.BorderSizePixel=0 f.Name="Splitter"f.Parent=d f.Position=UDim2.new(0,0,1,-35)f.Size=UDim2.new(1,0,0,1)k.BackgroundColor3=Color3.fromRGB(255,255,255)k.BackgroundTransparency=1 k.Font=Enum.Font.Code k.FontSize=Enum.FontSize.Size18 k.Parent=d k.Position=UDim2.new(0,6,0,4)k.Size=UDim2.new(0,300,0,25)k.TextColor3=a.colors.elementText n[1+#n]={k,"TextColor3";"elementText"}k.TextSize=15 k.TextStrokeTransparency=.95 k.TextXAlignment=Enum.TextXAlignment.Left l.BackgroundColor3=Color3.fromRGB(255,255,255)l.BackgroundTransparency=1 l.Font=Enum.Font.Code l.FontSize=Enum.FontSize.Size14 l.Name="Description"l.Parent=d l.Position=UDim2.new(0,6,0,25)l.Size=UDim2.new(0,300,0,25)l.TextColor3=a.colors.elementText n[1+#n]={l;"TextColor3","elementText"}l.TextSize=14 l.TextStrokeTransparency=.95 l.TextTruncate=Enum.TextTruncate.AtEnd l.TextWrap=true l.TextWrapped=true l.TextXAlignment=Enum.TextXAlignment.Left if o then o.AnchorPoint=Vector2.new(1)o.BackgroundColor3=Color3.fromRGB(255,255,255)o.BackgroundTransparency=1 o.Image="http://www.roblox.com/asset/?id=9064270627"o.ImageColor3=a.colors.section n[1+#n]={o;"ImageColor3";"section"}o.Name="Close"o.Parent=d o.Position=UDim2.new(1,-9,0,11)o.ScaleType=Enum.ScaleType.Fit o.Size=UDim2.new(0,10,0,10)end g.AnchorPoint=Vector2.new(0,1)g.BackgroundColor3=a.colors.sectionBackground n[1+#n]={g;"BackgroundColor3";"sectionBackground"}g.BorderSizePixel=0 g.Name="ButtonBar"g.Parent=d g.Position=UDim2.new(0,0,1,0)g.Size=UDim2.new(1,0,0,35)j.AutomaticCanvasSize=Enum.AutomaticSize.X j.BackgroundColor3=a.colors.sectionBackground n[1+#n]={j,"BackgroundColor3";"sectionBackground"}j.BorderColor3=a.colors.background n[1+#n]={j;"BorderColor3";"background"}j.BorderSizePixel=0 j.BottomImage=""j.CanvasSize=UDim2.new(0,0,0,0)j.MidImage=""j.Name="Buttons"j.Parent=g j.Position=UDim2.new(0,6,0,0)j.ScrollBarImageColor3=Color3.fromRGB(0,0,0)j.ScrollBarImageTransparency=1 j.ScrollBarThickness=0 j.ScrollingDirection=Enum.ScrollingDirection.X j.Selectable=false j.Size=UDim2.new(1,-12,1,0)j.TopImage=""h.FillDirection=Enum.FillDirection.Horizontal h.Padding=UDim.new(0,10)h.Parent=j h.SortOrder=Enum.SortOrder.LayoutOrder h.VerticalAlignment=Enum.VerticalAlignment.Center end h.FrameInstance=i h.Closed=i.Destroying local function p(a)h.Active=i and(i:Destroy()and nil)or g:Fire("Close",a and a=="timeout_")and nil or nil end h.Close=p if o then o.MouseButton1Click:Connect(m~=true and m or p)end do local a=f.Name k.Text=a~=nil and tostring(a)or"Untitled Prompt"end do local a=f.Description if a==nil then a=f.Text if a==nil then a=f.String if a==nil then a=f.Message if a==nil then a=f.Value end end end end l.Text=a~=nil and tostring(a)or""end do local a=f.Options or f.Buttons or f.Choices if a then if type(a)~="table"then a={OK=a}end else a=e end local b=0 local i={}h.Buttons=i function h.ReOrder(a,b)if a~=i then b,a=a,nil end if b and type(b)~="function"then b=d end local c={}for a,b in next,i do c[1+#c]=b end table.sort(c,b or d)for a,b in next,c do b.Order=a or b.Order local c=b.Update if c then spawn(c)else local c=b.ButtonObject if c then c.LayoutOrder=a end end end return i end function h.PressAll(a,...)local b=nil if a and rawequal(a,h)then b=true end for c,d in next,i do local e=d.Callback if e then if b then e(...)else e(a,...)end end end end local k=f.KeepOpen for a,d in next,a do b+=1 do local b=d and type(d)if b~="table"then d={Name=b=="string"and(type(a)=="number"and d)or a;Callback=b=="function"and d or p}end end i[a]=c(d,a,b,j,p,g,k)end end do local a=f.Timeout a=a and tonumber(a)if a then task.delay(a,p,"timeout_")end end i.Parent=r O(i,i)return h,i end end do local b=Instance.new("Frame")local c=Instance.new("UIListLayout")a.NotifyLayout=c b.BackgroundColor3=Color3.fromRGB(255,255,255)b.BackgroundTransparency=1 b.Name="Popups"b.Position=UDim2.new(0,10,0,10)b.Size=UDim2.new(1,-20,1,-20)c.HorizontalAlignment=Enum.HorizontalAlignment.Right c.Padding=UDim.new(0,5)c.Parent=b c.SortOrder=Enum.SortOrder.LayoutOrder c.VerticalAlignment=Enum.VerticalAlignment.Bottom b.Parent=r a.NotificationsFrame=b local d=true local e=os.clock local g={}a.Notifications=g spawn(function()local a,b,h=Enum.FillDirection.Vertical,Enum.VerticalAlignment.Top,Enum.HorizontalAlignment.Center while f()do local i=#g while f()and i<=0 do i=#g if f(.25)then else return end end d=c.FillDirection==a and c.VerticalAlignment~=b or c.HorizontalAlignment~=h local j,k=10,e()local l=0 for a=i,1,-1 do j-=1 if j<=0 then if f()then j,k=10,e()else return end end local b=g[a]local c=b and b.Object if c and(b.Active and(b.Paused or k-b.Expires<b.Duration))then if b.TextLabel.Text~=b.Text then b:SetText(b.Text)end if c.Visible then l+=1 c.LayoutOrder=l*(d and-1 or 1)end continue end b.Object=(b.Object and b.Object:Destroy())and nil or b.Destroy()and nil or table.remove(g,a)and nil or nil end end end)function a.Notify(c,f,...)if rawequal(c,a)then else f,c=c,a end local h=e()local i=f.Time or 6 local j=f.Text or f.String or f.Value or f.Message or f.Msg j=j==nil and"No text given"or tostring(j)local k={InitTime=h,Active=true;Forced=false,Duration=i;Expires=h+i;Paused=f.Paused and true or false,Text=j,Arguments=f}k.Forced=k.Paused local l=Instance.new("Frame")k.Object=l local m=Instance.new("Frame")local o=Instance.new("Frame")local p=Instance.new("Frame")local q=Instance.new("TextLabel")k.TextLabel=q local s=Instance.new("Frame")local t=Instance.new("ImageButton")l.AnchorPoint=Vector2.one l.BackgroundColor3=a.colors.background n[1+#n]={l;"BackgroundColor3","background"}l.BorderColor3=a.colors.outerBorder n[1+#n]={l,"BorderColor3";"outerBorder"}l.Name="Notification"l.Position=UDim2.new(1,-10,1,-10)l.Size=UDim2.new(0,50000,0,32)m.AnchorPoint=Vector2.new(.5,.5)m.BackgroundColor3=a.colors.background n[1+#n]={m,"BackgroundColor3";"background"}m.BorderColor3=a.colors.innerBorder n[1+#n]={m;"BorderColor3";"innerBorder"}m.BorderMode=Enum.BorderMode.Inset m.Name="Border"m.Parent=l m.Position=UDim2.new(.5,0,.5,0)m.Size=UDim2.new(1,0,1,0)o.AnchorPoint=Vector2.one/2 o.BackgroundColor3=a.colors.background n[1+#n]={o;"BackgroundColor3","background"}o.BorderColor3=a.colors.outerBorder n[1+#n]={o,"BorderColor3";"outerBorder"}o.Name="Inner"o.Parent=l o.Position=UDim2.new(.5,0,.5,0)o.Size=UDim2.new(1,-8,1,-8)p.AnchorPoint=Vector2.one/2 p.BackgroundColor3=a.colors.background n[1+#n]={p;"BackgroundColor3";"background"}p.BorderColor3=a.colors.innerBorder n[1+#n]={p,"BorderColor3","innerBorder"}p.BorderMode=Enum.BorderMode.Inset p.Name="Border"p.Parent=o p.Position=UDim2.new(.5,0,.5,0)p.Size=UDim2.new(1,0,1,0)q.AnchorPoint=Vector2.new(0,.5)q.BackgroundTransparency=1 q.Font=Enum.Font.Code q.FontSize=Enum.FontSize.Size14 q.Name="Text"q.Parent=p q.Position=UDim2.new(0,8,.5,0)q.Size=UDim2.new(1,-8,1,-7)q.Text=j q.TextColor3=a.colors.elementText n[1+#n]={q,"TextColor3";"elementText"}q.TextSize=14 q.TextScaled=true q.TextStrokeTransparency=.75 q.TextWrap=true q.TextWrapped=true q.TextXAlignment=Enum.TextXAlignment.Left s.BackgroundColor3=a.colors.main n[1+#n]={s,"BackgroundColor3","main"}s.BorderSizePixel=0 s.Name="Bar"s.Parent=p s.Size=UDim2.new(0,3,1,0)t.AnchorPoint=Vector2.new(1,.5)t.BackgroundTransparency=1 t.Image="rbxassetid://5492252477"t.ImageColor3=a.colors.elementText n[1+#n]={t,"ImageColor3";"elementText"}t.Name="Close"t.Parent=p t.Position=UDim2.new(1,-6,.5,0)t.ScaleType=Enum.ScaleType.Fit t.Size=UDim2.new(0,10,0,10)l.Size=UDim2.new(0,64+(I(q)).X,0,32)l.Parent=b l.LayoutOrder=#l.Parent:GetChildren()*(d and 1 or-1)if b.Parent then else b.Parent=r end k.OnClose=t.Activated k.InputBegan=l.InputBegan k.Destroying=l.Destroying k.MouseEnter=l.MouseEnter k.MouseLeave=l.MouseLeave function k.SetText(a,b)if rawequal(a,k)then else b=a end b=b==nil and"No text given"or tostring(b)q.Text,k.Text=b,b l.Size=UDim2.new(0,44+q.TextBounds.X,0,32)return b,q end local function u(a,b,c)if rawequal(a,k)then else b,c=a,b end local d=k.Paused if b==nil then b=not d else b=b or false end if b or d==b then else k.Expires=math.max(k.Expires,e()+math.clamp(k.Duration/2.5,1,3))end k.Paused=b if c then else k.Forced=b end return b end k.SetPaused=u function k.AddTime(a,b)if rawequal(a,k)then else b=a end k.Expires+=b end function k.Hide(a,b)if l and k.Active then if rawequal(a,k)then else b=a end if b then u(true)end l.Visible=false end end function k.Show(a,b)if l and k.Active then if rawequal(a,k)then else b=a end if b then u(false)end l.Visible=true end end function k.SetVisible(a,b,c)if l and k.Active then if rawequal(a,k)then else b,c=a,b end if b==nil then l.Visible=not l.Visible else l.Visible=b and true or false end if c then u(l.Visible)end end end l.MouseEnter:Connect(function()if k.Forced then return end u(true,true)end)l.MouseLeave:Connect(function()if k.Forced then return end u(false,true)end)local function v()if l then l:Destroy()end k.Active=false k.Object=nil end k.Destroy=v t.Activated:Connect(v)g[1+#g]=k return k,l,q end end end function a.CreateWindow(h,e,...)e=e and(type(e)=="string"and j("Window",e,...))or e local i=nil local k=e local l=e.Name or"Unnamed Window"e.Name=l if l and(#l>0 and a.WorkspaceName=="Pepsi Lib")then a.WorkspaceName=R(l,"Pepsi Lib")end local o=z("ScreenGui")a.MainScreenGui,r=o,o local q=z("Frame")local w=z("Frame")local x=z("Frame")local y=z("Frame")local A=z("Frame")local D=z("ImageLabel")local G=z("Frame")local S=z("ImageLabel")local T=z("UIListLayout")local U=z("UIPadding")local V=z("TextLabel")local W=z("TextLabel")local X=nil a.globals["__Window"..e.Name]={submenuOpen=X}o.Name="     "o.Parent=a.gui_parent o.ZIndexBehavior=Enum.ZIndexBehavior.Sibling o.DisplayOrder=10 o.ResetOnSpawn=false q.Name="main"q.Parent=o q.AnchorPoint=Vector2.new(.5,.5)q.BackgroundColor3=a.colors.background n[1+#n]={q;"BackgroundColor3";"background"}q.BorderColor3=a.colors.outerBorder n[1+#n]={q,"BorderColor3","outerBorder"}q.Position=UDim2.fromScale(.5,.5)q.Size=UDim2.fromOffset(500,545)O(q,q)w.Name="mainBorder"w.Parent=q w.AnchorPoint=Vector2.new(.5,.5)w.BackgroundColor3=a.colors.background n[1+#n]={w;"BackgroundColor3","background"}w.BorderColor3=a.colors.innerBorder n[1+#n]={w,"BorderColor3","innerBorder"}w.BorderMode=Enum.BorderMode.Inset w.Position=UDim2.fromScale(.5,.5)w.Size=UDim2.fromScale(1,1)y.Name="innerMain"y.Parent=q y.AnchorPoint=Vector2.new(.5,.5)y.BackgroundColor3=a.colors.background n[1+#n]={y;"BackgroundColor3";"background"}y.BorderColor3=a.colors.outerBorder n[1+#n]={y;"BorderColor3","outerBorder"}y.Position=UDim2.fromScale(.5,.5)y.Size=UDim2.new(1,-14,1,-14)A.Name="innerMainBorder"A.Parent=y A.AnchorPoint=Vector2.new(.5,.5)A.BackgroundColor3=a.colors.background n[1+#n]={A;"BackgroundColor3","background"}A.BorderColor3=a.colors.innerBorder n[1+#n]={A,"BorderColor3","innerBorder"}A.BorderMode=Enum.BorderMode.Inset A.Position=UDim2.fromScale(.5,.5)A.Size=UDim2.fromScale(1,1)G.Name="innerMainHolder"G.Parent=y G.BackgroundColor3=Color3.new(1,1,1)G.BackgroundTransparency=1 G.Position=UDim2:fromOffset(25)G.Size=UDim2.new(1,0,1,-25)D.Name="innerBackdrop"D.Parent=G D.BackgroundColor3=Color3.new(1,1,1)D.BackgroundTransparency=1 D.Size=UDim2.fromScale(1,1)D.ZIndex=-1 D.Visible=b["__Designer.Background.UseBackgroundImage"]and true D.ImageColor3=b["__Designer.Background.ImageColor"]or Color3.new(1,1,1)D.ImageTransparency=(b["__Designer.Background.ImageTransparency"]or 95)/100 D.Image=m(b["__Designer.Background.ImageAssetID"],"__Designer.Background.ImageAssetID")or""a.Backdrop=D S.Name="tabsHolder"S.Parent=y S.BackgroundColor3=a.colors.topGradient n[1+#n]={S;"BackgroundColor3","topGradient"}S.BorderSizePixel=0 S.Position=UDim2.fromOffset(1,1)S.Size=UDim2.new(1,-2,0,23)S.Image="rbxassetid://2454009026"S.ImageColor3=a.colors.bottomGradient n[1+#n]={S;"ImageColor3";"bottomGradient"}T.Name="tabHolderList"T.Parent=S T.FillDirection=Enum.FillDirection.Horizontal T.SortOrder=Enum.SortOrder.LayoutOrder T.VerticalAlignment=Enum.VerticalAlignment.Center T.Padding=UDim:new(3)U.Name="tabHolderPadding"U.Parent=S U.PaddingLeft=UDim:new(7)V.Name="headline"V.Parent=S V.BackgroundColor3=Color3.new(1,1,1)V.BackgroundTransparency=1 V.LayoutOrder=1 V.Font=Enum.Font.Code V.Text=l and tostring(l)or"???"V.TextColor3=a.colors.main n[1+#n]={V;"TextColor3","main"}V.TextSize=14 V.TextStrokeColor3=a.colors.outerBorder n[1+#n]={V;"TextStrokeColor3","outerBorder"}V.TextStrokeTransparency=.75 V.Size=UDim2:new((I(V)).X+4,1)W.Name="splitter"W.Parent=S W.BackgroundColor3=Color3.new(1,1,1)W.BackgroundTransparency=1 W.LayoutOrder=2 W.Size=UDim2:new(6,1)W.Font=Enum.Font.Code W.Text="|"W.TextColor3=a.colors.tabText n[1+#n]={W,"TextColor3";"tabText"}W.TextSize=14 W.TextStrokeColor3=a.colors.tabText n[1+#n]={W;"TextStrokeColor3","tabText"}W.TextStrokeTransparency=.75 x.Name="tabSlider"x.Parent=q x.BackgroundColor3=a.colors.main n[1+#n]={x;"BackgroundColor3","main"}x.BorderSizePixel=0 x.Position=UDim2.fromOffset(100,30)x.Size=UDim2:fromOffset(1)x.Visible=false local Y=nil do local b=os.clock a.signals[1+#a.signals]=E.InputBegan:Connect(function(c)if Y or E:GetFocusedTextBox()then return elseif c.KeyCode==a.configuration.hideKeybind then if not g or b()-g>12 then q.Visible=not q.Visible end g=nil end end)end local Z={tabCount=0,selected={},Flags=t}a.globals["__Window"..l].windowFunctions=Z function Z.Show(b,a)q.Visible=a==nil or a==true or a==1 return q.Visible end function Z.Hide(b,a)q.Visible=a==false or a==0 return q.Visible end function Z.Visibility(b,a)if a==nil then q.Visible=not q.Visible else q.Visible=a and true end return q.Visible end function Z.MoveTabSlider(c,b)spawn(function()x.Visible=true;(p:Create(x,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{Size=UDim2.fromOffset(b.AbsoluteSize.X,1),Position=UDim2.fromOffset(b.AbsolutePosition.X,b.AbsolutePosition.Y+b.AbsoluteSize.Y)-UDim2.fromOffset(q.AbsolutePosition.X,q.AbsolutePosition.Y)})):Play()end)end Z.LastTab=nil function Z.CreateTab(g,e,...)e=e and(type(e)=="string"and j("Tab",e,...))or e or{Name="Pepsi Style: Elite Lego Hax"}local h=e.Image if h then h=m(h)end local k=e.Name or"Unnamed Tab"e.Name=k Z.tabCount=Z.tabCount+1 local o=z(h and"ImageButton"or"TextButton")local r=z("Frame")a.globals["__Window"..l].newTabHolder=r local s=z("ScrollingFrame")local w=z("UIListLayout")local y=z("UIPadding")local A=z("ScrollingFrame")local C=z("UIListLayout")local D=z("UIPadding")o.Name=J((k and(tostring(k)):lower()or"???").."Tab")o.Parent=S o.BackgroundTransparency=1 o.LayoutOrder=e.LastTab and 99999 or tonumber(e.TabOrder or e.LayoutOrder)or 2+Z.tabCount local O=nil if h then o.Image=h o.ImageColor3=e.ImageColor or e.Color or Color3.new(1,1,1)o.Size=UDim2:new(S.AbsoluteSize.Y,1)else O={o,"TextColor3","tabText"}n[1+#n]=O o.Font=Enum.Font.Code o.Text=k and tostring(k)or"???"if Z.tabCount~=1 then O[4]=1.35 o.TextColor3=darkenColor(a.colors.tabText,1.35)else o.TextColor3=a.colors.tabText end o.TextSize=14 o.TextStrokeColor3=Color3.fromRGB(42,42,42)o.TextStrokeTransparency=.75 o.Size=UDim2:new((I(o)).X+4,1)end local function T()if not a.colorpicker and(not X and(Z.selected.button~=o and(o.Parent and r.Parent)))then pcall(function()for a,b in next,a.elements do if b and type(b)=="table"then if b.Update then pcall(b.Update)end if b.UpdateAll then pcall(b.UpdateAll)end end end end)if Z.LastTab then Z.LastTab[4]=1.35 end Z:MoveTabSlider(o)if Z.selected.button.ClassName=="TextButton"then(p:Create(Z.selected.button,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{TextColor3=darkenColor(a.colors.tabText,1.35)})):Play()end if O then O[4]=nil end Z.selected.holder.Visible=false Z.selected.button=o Z.selected.holder=r if Z.selected.button.ClassName=="TextButton"then(p:Create(Z.selected.button,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{TextColor3=a.colors.tabText})):Play()end Z.selected.holder.Visible=true Z.LastTab=O end end if not i and o.LayoutOrder<=4 then i=T end a.signals[1+#a.signals]=o.MouseButton1Click:Connect(T)if Z.tabCount==1 then x.Size=UDim2.fromOffset(o.AbsoluteSize.X,1)x.Position=UDim2.fromOffset(o.AbsolutePosition.X,o.AbsolutePosition.Y+o.AbsoluteSize.Y)-UDim2.fromOffset(q.AbsolutePosition.X,q.AbsolutePosition.Y)x.Visible=true Z.selected.holder=r Z.selected.button=o end r.Name=J(k and k:lower()or"???").."TabHolder"r.Parent=G r.BackgroundColor3=Color3.new(1,1,1)r.BackgroundTransparency=1 r.Size=UDim2.fromScale(1,1)r.Visible=Z.tabCount==1 s.Name="left"s.Parent=r s.BackgroundColor3=Color3.new(1,1,1)s.BackgroundTransparency=1 s.Size=UDim2.fromScale(.5,1)s.CanvasSize=UDim2.new()s.ScrollBarThickness=0 w.Name="leftList"w.Parent=s w.HorizontalAlignment=Enum.HorizontalAlignment.Center w.SortOrder=Enum.SortOrder.LayoutOrder w.Padding=UDim:new(14)y.Name="leftPadding"y.Parent=s y.PaddingTop=UDim:new(12)A.Name="right"A.Parent=r A.BackgroundColor3=Color3.new(1,1,1)A.BackgroundTransparency=1 A.Size=UDim2.fromScale(.5,1)A.CanvasSize=UDim2.new()A.ScrollBarThickness=0 A.Position=UDim2.new(.5)C.Name="rightList"C.Parent=A C.HorizontalAlignment=Enum.HorizontalAlignment.Center C.SortOrder=Enum.SortOrder.LayoutOrder C.Padding=UDim:new(14)D.Name="rightPadding"D.Parent=A D.PaddingTop=UDim:new(12)local U={Flags={};Remove=function()local a=nil if o then o.Parent=nil a=true end if r then r.Parent=nil a=true end if a then Z:UpdateAll()end end;Select=T}function U.CreateSection(g,e,...)e=e and(type(e)=="string"and j("Tab",e,...))or e local h,i=e.Name or"Unnamed Section",e.Side e.Name=h local k=z("Frame")local l=z("Frame")local m=z("Frame")local o=z("Frame")local q=z("Frame")local w=z("UIListLayout")local x=z("UIPadding")local y=z("TextLabel")u[1+#u]=m u[1+#u]=o u[1+#u]=y k.Name=J((h and h:lower()or"???").."Section")k.Parent=i and(i:lower()=="left"and s or A)or s k.BackgroundColor3=a.colors.sectionBackground n[1+#n]={k,"BackgroundColor3";"sectionBackground"}k.BorderColor3=a.colors.outerBorder n[1+#n]={k,"BorderColor3";"outerBorder"}k.Size=UDim2.new(1,-20)k.Visible=false l.Name="newSectionBorder"l.Parent=k l.BackgroundColor3=a.colors.sectionBackground n[1+#n]={l;"BackgroundColor3","sectionBackground"}l.BorderColor3=a.colors.innerBorder n[1+#n]={l,"BorderColor3";"innerBorder"}l.BorderMode=Enum.BorderMode.Inset l.Size=UDim2.fromScale(1,1)q.Name="sectionHolder"q.Parent=k q.BackgroundColor3=Color3.new(1,1,1)q.BackgroundTransparency=1 q.Size=UDim2.fromScale(1,1)w.Name="sectionList"w.Parent=q w.HorizontalAlignment=Enum.HorizontalAlignment.Center w.SortOrder=Enum.SortOrder.LayoutOrder w.Padding=UDim:new(1)x.Name="sectionPadding"x.Parent=q x.PaddingTop=UDim:new(9)y.Name="sectionHeadline"y.Parent=k y.BackgroundColor3=Color3.new(1,1,1)y.BackgroundTransparency=1 y.Position=UDim2.fromOffset(18,-8)y.ZIndex=2 y.Font=Enum.Font.Code y.LineHeight=1.15 y.Text=h and h or"???"y.TextColor3=a.colors.section n[1+#n]={y,"TextColor3";"section"}y.TextSize=14 y.Size=UDim2.fromOffset((I(y)).X+4,12)m.Name="insideBorderHider"m.Parent=k m.BackgroundColor3=a.colors.sectionBackground n[1+#n]={m;"BackgroundColor3","sectionBackground"}m.BorderSizePixel=0 m.Position=UDim2.fromOffset(15)m.Size=UDim2.fromOffset(y.AbsoluteSize.X+3,1)o.Name="outsideBorderHider"o.Parent=k o.BackgroundColor3=a.colors.background n[1+#n]={o,"BackgroundColor3","background"}o.BorderSizePixel=0 o.Position=UDim2.fromOffset(15,-1)o.Size=UDim2.fromOffset(y.AbsoluteSize.X+3,1)local C={Flags={};Remove=function()if k then k.Parent=nil Z:UpdateAll()end end}function C.Update(b,a)local c=k.Parent if not k.Visible then k.Visible=true end k.Size=UDim2.new(1,-20,0,15+w.AbsoluteContentSize.Y)if c then c.CanvasSize=UDim2:fromOffset(((c:FindFirstChildOfClass("UIListLayout")).AbsoluteContentSize.Y+22)+(tonumber(a)or 0))end end function C.UpdateAll(a,...)for a,b in next,C.Flags do if b then if b.Update then pcall(b.Update)end if b.UpdateAll then pcall(b.UpdateAll)end end end C:Update(...)end function C.AddToggle(d,c,...)c=c and(type(c)=="string"and j("Tab",c,...))or c local e,f,g,h=assert(c.Name,"Missing Name for new toggle."),c.Value or c.Enabled,c.Callback,c.Flag or(function()a.unnamedtoggles=1+(a.unnamedtoggles or 0)return"Toggle"..tostring(a.unnamedtoggles)end)()if t[h]~=nil then warn(debug.traceback("Warning! Re-used flag \'"..(h.."\'"),3))end local i=z("Frame")local k=z("ImageLabel")local l=z("ImageLabel")local m=z("TextButton")local o=z("TextLabel")local r=z("Frame")local s=z("UIListLayout")local u=z("TextButton")local w=c.Locked i.Name=J((e and e:lower()or"???").."Toggle")i.Parent=q i.BackgroundColor3=Color3.new(1,1,1)i.BackgroundTransparency=1 i.Size=UDim2.new(1,0,0,19)k.Name="toggle"k.Parent=i k.Active=true k.BackgroundColor3=a.colors.topGradient local x={k;"BackgroundColor3","topGradient"}n[1+#n]=x k.BorderColor3=a.colors.elementBorder n[1+#n]={k;"BorderColor3";"elementBorder"}k.Position=UDim2.fromScale(.0308237672,.165842205)k.Selectable=true k.Size=UDim2.fromOffset(12,12)k.Image="rbxassetid://2454009026"k.ImageColor3=a.colors.bottomGradient local y={k;"ImageColor3";"bottomGradient"}n[1+#n]=y l.Name="toggleInner"l.Parent=k l.Active=true l.AnchorPoint=Vector2.new(.5,.5)l.BackgroundColor3=a.colors.topGradient local A={l,"BackgroundColor3","topGradient"}n[1+#n]=A l.BorderColor3=a.colors.elementBorder n[1+#n]={l;"BorderColor3","elementBorder"}l.Position=UDim2.fromScale(.5,.5)l.Selectable=true l.Size=UDim2.new(1,-4,1,-4)l.Image="rbxassetid://2454009026"l.ImageColor3=a.colors.bottomGradient local B={l,"ImageColor3";"bottomGradient"}n[1+#n]=B m.Name="toggleButton"m.Parent=i m.BackgroundColor3=Color3.new(1,1,1)m.BackgroundTransparency=1 m.Size=UDim2.fromScale(1,1)m.ZIndex=5 m.Font=Enum.Font.SourceSans m.Text=""m.TextColor3=Color3.new()m.TextSize=14 m.TextTransparency=1 o.Name="toggleHeadline"o.Parent=i o.BackgroundColor3=Color3.new(1,1,1)o.BackgroundTransparency=1 o.Position=UDim2.fromScale(.123,.165842161)o.Size=UDim2.fromOffset(170,11)o.Font=Enum.Font.Code o.Text=e or"???"o.TextColor3=a.colors.elementText local D={o;"TextColor3","elementText",w and.5 or nil}n[1+#n]=D o.TextSize=14 o.TextXAlignment=Enum.TextXAlignment.Left local F=nil local function G(d,e)if nil==e and d~=nil then e=d end F=b[h]if c.Condition~=nil then if type(c.Condition)=="function"then local a,b=pcall(c.Condition,e,F)if b then if not a then warn(debug.traceback(string.format("Error in toggle %s\'s Condition function: %s",h,b),2))end else return F end end end if e~=nil and type(e)=="boolean"then b[h]=e if c.Location then c.Location[c.LocationFlag or h]=e end if g and(F~=e or c.AllowDuplicateCalls)then A[3]=e and"main"or"topGradient"A[4]=e and 1.5 or nil B[3]=e and"main"or"bottomGradient"B[4]=e and 2.5 or nil;(p:Create(l,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=e and darkenColor(a.colors.main,1.5)or a.colors.topGradient,ImageColor3=e and darkenColor(a.colors.main,2.5)or a.colors.bottomGradient})):Play()task.spawn(g,e,F)end end return e end c.Keybind=c.Keybind or c.Key or c.KeyBind local H,K,L=nil,nil,nil if c.Keybind then local d=c.Keybind local e=typeof(d)if e=="EnumItem"then d={Value=d}elseif e~="table"then d={}end local f,g,j,k=d.Value or d.Key,d.Callback,d.Pressed,d.Flag or(function()if h then return h.."_ToggleKeybind"end a.unnamedkeybinds=1+(a.unnamedkeybinds or 0)return"Keybind"..tostring(a.unnamedkeybinds)end)()if t[k]~=nil or k==h then warn(debug.traceback("Warning! Re-used flag \'"..(k.."\'"),3))end H=k a.keyHandler=v local l=d.KeyNames or v local o=f local q=false local x=l.allowedKeys[o]or o and(o.Name or(tostring(o)):gsub("Enum.KeyCode.",""))or"NONE"local y=i r.Name="keybindPositioner"r.Parent=y r.BackgroundColor3=Color3.new(1,1,1)r.BackgroundTransparency=1 r.Position=UDim2.new(.00448430516)r.Size=UDim2.fromOffset(214,19)r.ZIndex=1+m.ZIndex s.Name="keybindList"s.Parent=r s.FillDirection=Enum.FillDirection.Horizontal s.HorizontalAlignment=Enum.HorizontalAlignment.Right s.SortOrder=Enum.SortOrder.LayoutOrder s.VerticalAlignment=Enum.VerticalAlignment.Center u.Name="keybindButton"u.Parent=r u.Active=false u.BackgroundColor3=Color3.new(1,1,1)u.BackgroundTransparency=1 u.Position=UDim2.fromScale(.598130822,.184210524)u.Selectable=false u.Size=UDim2.fromOffset(46,12)u.Font=Enum.Font.Code u.Text=x or f and(tostring(f)):gsub("Enum.KeyCode.","")or"[NONE]"u.TextColor3=a.colors.otherElementText local z={u,"TextColor3";"otherElementText"}n[1+#n]=z u.TextSize=14 u.TextXAlignment=Enum.TextXAlignment.Right u.Size=UDim2.fromOffset((I(u)).X+4,12)local A=o or f local function B()if w then return end local c=u.Text z[3]="main"z[4]=nil;(p:Create(u,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{TextColor3=a.colors.main})):Play()if A then u.Text="(Was "..((A and(tostring(A)):gsub("Enum.KeyCode.","")or"[NONE]")..") [...]")else u.Text="[...]"end local e=nil e=E.InputBegan:Connect(function(f)if w then return e:Disconnect()end A=b[k]if not l.notAllowedKeys[f.KeyCode]then if f.KeyCode~=Enum.KeyCode.Unknown then o=f.KeyCode~=Enum.KeyCode.Escape and f.KeyCode or b[k]b[k]=o if d.Location then d.Location[d.LocationFlag or k]=o end if o then x=l.allowedKeys[o]or o and(o.Name or(tostring(o)):gsub("Enum.KeyCode.",""))or"NONE"u.Text="["..((x or o and o.Name or"NONE").."]")u.Size=UDim2.fromOffset((I(u)).X+4,12)q=true z[3]="otherElementText"z[4]=nil;(p:Create(u,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{TextColor3=a.colors.otherElementText})):Play()e:Disconnect()end if g and A~=o then task.spawn(g,o,A)end return elseif f.KeyCode==Enum.KeyCode.Unknown and not l.notAllowedMouseInputs[f.UserInputType]then o=f.UserInputType b[k]=o if d.Location then d.Location[d.LocationFlag or k]=o end x=l.allowedKeys[o]u.Text="["..((x or o and o.Name or(tostring(o.KeyCode)):gsub("Enum.KeyCode.","")).."]")u.Size=UDim2.fromOffset((I(u)).X+4,12)q=true z[3]="otherElementText"z[4]=nil;(p:Create(u,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{TextColor3=a.colors.otherElementText})):Play()e:Disconnect()if g and A~=o then task.spawn(g,o,A)end return end end if f.KeyCode==Enum.KeyCode.Backspace or Enum.KeyCode.Escape==f.KeyCode then c,o="[NONE]",nil end u.Text=c z[3]="otherElementText"z[4]=nil;(p:Create(u,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{TextColor3=a.colors.otherElementText})):Play()e:Disconnect()if g and A~=o then task.spawn(g,o,A)end end)a.signals[1+#a.signals]=e end a.signals[1+#a.signals]=u.MouseButton1Click:Connect(B)if j and not q then a.signals[1+#a.signals]=E.InputBegan:Connect(function(a,b)b=b or E:GetFocusedTextBox()and true if not b and not q then if not l.notAllowedKeys[a.KeyCode]and not l.notAllowedMouseInputs[a.UserInputType]then if o==a.UserInputType or not q and o==a.KeyCode then if j then task.spawn(j,a,b)end end q=false end end end)end d.Mode=d.Mode and string.lower(tostring(d.Mode))or"dynamic"local D={dynamic=1,hold=1;toggle=1}a.signals[1+#a.signals]=E.InputBegan:Connect(function(c,e)if q then wait(.1)q=false return elseif w then return end e=e or E:GetFocusedTextBox()if not e then local e=b[k]local f=d.Mode if not D[f]then f="dynamic"d.Mode=f end if e==c.KeyCode or e==c.UserInputType then if f=="dynamic"or f=="both"or f=="hold"then if f=="dynamic"and b[h]then return G(false)end G(true)local c=os.clock()local g=nil if f=="dynamic"then g=Instance.new("BindableEvent")end local i=nil i=E.InputEnded:Connect(function(a,b)b=b or E:GetFocusedTextBox()if not b and(e==a.KeyCode or e==a.UserInputType)then i=i and(i:Disconnect()and nil)or nil if f=="hold"or os.clock()-c>math.clamp(tonumber(d.DynamicTime)or.65,.05,20)then G(false)end end end)a.signals[1+#a.signals]=i else G(not b[h])end end end end)local function J(c,e)if nil==e and c~=nil then e=c end if e=="nil"or e=="NONE"or e=="none"then e=nil end F=b[k]o=e b[k]=e if d.Location then d.Location[d.LocationFlag or k]=e end x=e==nil and"NONE"or l.allowedKeys[e]u.Text="["..((x or e.Name or(tostring(e)):gsub("Enum.KeyCode.","")).."]")u.Size=UDim2.fromOffset((I(u)).X+4,12)q=true z[3]="otherElementText"z[4]=nil;(p:Create(u,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{TextColor3=a.colors.otherElementText})):Play()if g and(F~=e or d.AllowDuplicateCalls)then task.spawn(g,e,F)end return e end if f~=nil then J(f)else b[k]=o if d.Location then d.Location[d.LocationFlag or k]=o end end local M=b[k]local function N()g,j=d.Callback,d.Pressed local c=b[k]o=c x=l.allowedKeys[o]or o and(o.Name or(tostring(o)):gsub("Enum.KeyCode.",""))or"NONE"u.Text="["..((x or c and c.Name or(tostring(c)):gsub("Enum.KeyCode.","")).."]")u.Size=UDim2.fromOffset((I(u)).X+4,12)z[3]="otherElementText"z[4]=w and 2.5 or nil;(p:Create(u,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{TextColor3=w and darkenColor(a.colors.otherElementText,z[4])or a.colors.otherElementText})):Play()return c end K=N local O={Options=d;Name=k,Flag=k,Type="Keybind",Default=M,Parent=C;Instance=u,Get=function()return b[k]end;Set=J,RawSet=function(a,c)if a~=nil and c==nil then c=a end b[k]=c N()return c end;Update=N,Reset=function()return J(nil,M)end}L=O U.Flags[k],C.Flags[k],t[k]=O,O,O end C:Update()a.signals[1+#a.signals]=m.MouseButton1Click:Connect(function()if not a.colorpicker and(not X and not w)then local d=not b[h]if c.Condition~=nil then if type(c.Condition)=="function"then local a,b=pcall(c.Condition,d,not d)if b then if not a then warn(debug.traceback(string.format("Error in toggle %s\'s Condition function: %s",h,b),2))end else return F end end end b[h]=d if c.Location then c.Location[c.LocationFlag or h]=d end A[3]=d and"main"or"topGradient"A[4]=d and 1.5 or nil B[3]=d and"main"or"bottomGradient"B[4]=d and 2.5 or nil;(p:Create(l,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=d and darkenColor(a.colors.main,1.5)or a.colors.topGradient;ImageColor3=d and darkenColor(a.colors.main,2.5)or a.colors.bottomGradient})):Play()if g then task.spawn(g,d)end end end)a.signals[1+#a.signals]=i.MouseEnter:Connect(function()x[3]="main"x[4]=1.5 y[3]="main"y[4]=2.5;(p:Create(k,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=darkenColor(a.colors.main,1.5);ImageColor3=darkenColor(a.colors.main,2.5)})):Play()end)a.signals[1+#a.signals]=i.MouseLeave:Connect(function()x[3]="topGradient"x[4]=nil y[3]="bottomGradient"y[4]=nil;(p:Create(k,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=a.colors.topGradient;ImageColor3=a.colors.bottomGradient})):Play()end)if b[h]then A[3]="main"A[4]=1.5 B[3]="main"B[4]=2.5;(p:Create(l,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=darkenColor(a.colors.main,1.5);ImageColor3=darkenColor(a.colors.main,2.5)})):Play()end local function M()e,g=c.Name or e,c.Callback local d=b[h]A[3]=d and"main"or"topGradient"A[4]=d and 1.5 or nil B[3]=d and"main"or"bottomGradient"B[4]=d and 2.5 or nil if w then A[4]=1+(A[4]or 1)B[4]=1+(B[4]or 1)end;(p:Create(l,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=d and darkenColor(a.colors.main,A[4])or a.colors.topGradient,ImageColor3=d and darkenColor(a.colors.main,B[4])or a.colors.bottomGradient})):Play()D[4]=w and 2.5 or nil;(p:Create(o,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{TextColor3=w and darkenColor(a.colors.elementText,D[4])or a.colors.elementText})):Play()o.Text=e or"???"return d end if f~=nil then G(f)else b[h]=f and true if c.Location then c.Location[c.LocationFlag or h]=f and true end end local N=b[h]and true M()if K then K()end local O={Options=c;Type="Toggle",Name=h;Flag=h;Default=N,Parent=C,Instance=m,Set=G,Remove=function()if i then i.Parent=nil C:Update()end end,RawSet=function(a,d,e)if a~=nil and type(a)~="table"then d,e=a,d end F=b[h]if e~=false and e~=0 then local a=e and(type(e)=="function"and e)if a or c.Condition~=nil then if type(a or c.Condition)=="function"then local b,e=pcall(a or c.Condition,d,F)if e then if not b then warn(debug.traceback(string.format("Error in toggle (RawSet) %s\'s Condition function: %s",h,e),2))end else return F end end end end b[h]=d if c.Location then c.Location[c.LocationFlag or h]=d end M()return d end,KeybindData=L;Get=function()return b[h]end,Update=M,Reset=function()return G(nil,N)end,SetLocked=function(a,b)if type(a)~="table"then b=a end local c=w if b==nil then w=not w else w=b end if w~=c then D[4]=w and 2.5 or nil M()if K then K()end end return w end,Lock=function()if not w then w=true D[4]=2.5 M()if K then K()end end return w end,Unlock=function()if w then w=false D[4]=nil M()if K then K()end end return w end;SetCondition=function(a,b)if type(a)~="table"and b==nil then b=a end c.Condition=b return b end}if L then L.ToggleData=O end U.Flags[h],C.Flags[h],t[h]=O,O,O return O end C.CreateToggle=C.AddToggle C.NewToggle=C.AddToggle C.Toggle=C.AddToggle C.Tog=C.AddToggle function C.AddButton(b,...)local c=nil if...and(not select(2,...)and(type(...)=="table"and(#...>0 and(type(...[1])=="table"and...[1].Name))))then c=...else c={...}end local d,e={},0 local f={}local g=nil for b,c in next,c do c=c and(c[1]and(type(c[1])=="string"and j("Button",unpack(c))))or c local h,i=assert(c.Name,"Missing Name for new button."),c.Callback or warn("AddButton missing callback. Name:",c.Name or"No Name",debug.traceback(""))and nil or function() end local l=c.Locked local m=z("TextButton")m.Name="realButton"m.BackgroundColor3=Color3.new(1,1,1)m.BackgroundTransparency=1 m.Size=UDim2.fromScale(1,1)m.ZIndex=5 m.Font=Enum.Font.Code m.Text=h and tostring(h)or"???"m.TextColor3=a.colors.elementText local o={m;"TextColor3","elementText"}n[1+#n]=o m.TextSize=14 local r=(I(m)).X+14 if k.Parent and k.Parent.AbsoluteSize.X<(e+r)+8 then e,g=0,nil end local s=g or z("Frame")g=s local u=f[g]or{}f[g]=u local v=z("ImageLabel")s.Name=J((h and h:lower()or"???").."Holder")s.Parent=q s.BackgroundColor3=Color3.new(1,1,1)s.BackgroundTransparency=1 s.Size=UDim2.new(1,0,0,24)v.Name="button"v.Parent=s v.Active=true v.BackgroundColor3=a.colors.topGradient local w={v,"BackgroundColor3";"topGradient"}n[1+#n]=w v.BorderColor3=a.colors.elementBorder n[1+#n]={v,"BorderColor3";"elementBorder"}v.Position=UDim2.new(.031,e,.166)v.Selectable=true v.Size=UDim2.fromOffset(28,18)v.Image="rbxassetid://2454009026"v.ImageColor3=a.colors.bottomGradient local x={v,"ImageColor3","bottomGradient"}n[1+#n]=x local y=z("ImageLabel")y.Name="buttonInner"y.Parent=v y.Active=true y.AnchorPoint=Vector2.new(.5,.5)y.BackgroundColor3=a.colors.topGradient local A={y;"BackgroundColor3","topGradient"}n[1+#n]=A y.BorderColor3=a.colors.elementBorder n[1+#n]={y;"BorderColor3","elementBorder"}y.Position=UDim2.fromScale(.5,.5)y.Selectable=true y.Size=UDim2.new(1,-4,1,-4)y.Image="rbxassetid://2454009026"y.ImageColor3=a.colors.bottomGradient local B={y,"ImageColor3";"bottomGradient"}n[1+#n]=B v.Size=UDim2.fromOffset(r,18)m.Parent=v e=(e+r)+6 C:Update()local D=0 a.signals[1+#a.signals]=m.MouseButton1Click:Connect(function()if l then return end if c.Condition~=nil and type(c.Condition)=="function"then local a,b=pcall(c.Condition,D)if b then if not a then warn(debug.traceback(string.format("Error in button %s\'s Condition function: %s",h,b),2))end else return end end if not a.colorpicker and not X then D=1+D task.spawn(i,D)end end)local E=nil a.signals[1+#a.signals]=v.MouseEnter:Connect(function()E=1 w[3]="main"w[4]=1.5 x[3]="main"x[4]=2.5;(p:Create(v,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=darkenColor(a.colors.main,1.5),ImageColor3=darkenColor(a.colors.main,2.5)})):Play()end)a.signals[1+#a.signals]=v.MouseLeave:Connect(function()E=nil w[3]="topGradient"w[4]=nil x[3]="bottomGradient"x[4]=nil;(p:Create(v,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=a.colors.topGradient;ImageColor3=a.colors.bottomGradient})):Play()end)local function F(b)h,i=c.Name or h,c.Callback or warn(debug.traceback("AddButton missing callback. Name:"..(c.Name or h or"No Name"),2))and nil or function() end w[3]=E and"main"or"topGradient"w[4]=E and 1.5 or nil x[3]=E and"main"or"bottomGradient"x[4]=E and 2.5 or nil A[4]=nil B[4]=nil o[4]=nil if l then w[4]=1.25 x[4]=1.25 A[4]=1.25 B[4]=1.25 o[4]=1.75 end;(p:Create(v,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=E and darkenColor(a.colors.main,w[4])or darkenColor(a.colors.topGradient,w[4]),ImageColor3=E and darkenColor(a.colors.main,x[4])or darkenColor(a.colors.bottomGradient,x[4])})):Play();(p:Create(y,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=darkenColor(a.colors.topGradient,A[4]);ImageColor3=darkenColor(a.colors.bottomGradient,B[4])})):Play();(p:Create(m,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{TextColor3=darkenColor(a.colors.elementText,o[4])})):Play()m.Text=h and tostring(h)or"???"local e=(I(m)).X+14 if r~=e then r=e v.Size=UDim2.fromOffset(r,18)if b~="Recursive"then if d and d.UpdateAll then d.UpdateAll()end end end return D,r end F()local G={Options=c,Name=h,Flag=h,Type="Button",Parent=C;Instance=m;Frame=g or s;ButtonFrame=v;Remove=function()if v then v.Parent=nil d.UpdateAll()C.UpdateAll()end end;Press=function(...)if l then return D end if c.Condition~=nil and type(c.Condition)=="function"then local a,b=pcall(c.Condition,D)if b then if a then else warn(debug.traceback(string.format("Error in button %s\'s Condition function: %s",h,b),2))end else return D end end local a={...}local b=a[1]if b and type(b)=="table"then table.remove(a,1)end D=1+D task.spawn(i,D,...)return D end;RawPress=function(...)local a={...}local b=a[1]if b and type(b)=="table"then table.remove(a,1)end task.spawn(i,D,...)return D end,Get=function()return i,D end;SetLocked=function(a,b)if type(a)~="table"then b=a end local c=l if b==nil then l=not l else l=b end if l~=c then F()end return l end,Lock=function()if not l then l=true F()end return l end;Unlock=function()if l then l=false F()end return l end,SetCondition=function(a,b)if type(a)~="table"and b==nil then b=a end c.Condition=b return b end;Update=F;SetText=function(a,b)if type(a)~="table"and b==nil then b=a end h=b c.Name=b m.Text=h and tostring(h)or"???"return b end,SetCallback=function(a,b)if type(a)~="table"and b==nil then b=a end c.Callback=b i=b return b end}U.Flags[h],C.Flags[h],t[h]=G,G,G d[1+#d]=G u[1+#u]=G end function d.PressAll()for a,b in next,d do b.Press()end end function d.UpdateAll()for a,b in next,f do if b and a then local c=0 for b,d in next,b do if d and(d.Instance and a:IsAncestorOf(d.Instance))then local a,b=d.Update("Recursive")b=tonumber(b)or(I(d.Instance)).X+14 d.ButtonFrame.Position=UDim2.new(.031,c,.166)c=(c+b)+6 end end end end end d.Update=d.UpdateAll function d.RemoveAll()for a,b in next,d do b.Remove()end end function d.Remove()for a in next,f do if a then a.Parent=nil end end end if#d==1 then for a,b in next,d[1]do if d[a]==nil then d[a]=b end end end return d end C.CreateButton=C.AddButton C.NewButton=C.AddButton C.Button=C.AddButton function C.AddTextbox(d,c,...)c=c and(type(c)=="string"and j("Textbox",c,...))or c local e,f,g,h,i=assert(c.Name,"Missing Name for new textbox."),c.Value,c.Placeholder,c.Callback,c.Flag or(function()a.unnamedtextboxes=1+(a.unnamedtextboxes or 0)return"Textbox"..tostring(a.unnamedtextboxes)end)()if t[i]~=nil then warn(debug.traceback("Warning! Re-used flag \'"..(i.."\'"),3))end local k=c.Type local l=z("Frame")local m=z("ImageLabel")local o=z("ImageLabel")local r=z("TextBox")local s=z("TextLabel")l.Name=J(e and e:lower()or"???").."Holder"l.Parent=q l.BackgroundColor3=Color3.new(1,1,1)l.BackgroundTransparency=1 l.Size=UDim2.new(1,0,0,42)m.Name="textbox"m.Parent=l m.Active=true m.BackgroundColor3=a.colors.topGradient local u={m,"BackgroundColor3";"topGradient"}n[1+#n]=u m.BorderColor3=a.colors.elementBorder n[1+#n]={m,"BorderColor3";"elementBorder"}m.Position=UDim2.fromScale(.031,.48)m.Selectable=true m.Size=UDim2.fromOffset(206,18)m.Image="rbxassetid://2454009026"m.ImageColor3=a.colors.bottomGradient local v={m,"ImageColor3","bottomGradient"}n[1+#n]=v o.Name="textboxInner"o.Parent=m o.Active=true o.AnchorPoint=Vector2.new(.5,.5)o.BackgroundColor3=a.colors.topGradient n[1+#n]={o,"BackgroundColor3","topGradient"}o.BorderColor3=a.colors.elementBorder n[1+#n]={o;"BorderColor3";"elementBorder"}o.Position=UDim2.fromScale(.5,.5)o.Selectable=true o.Size=UDim2.new(1,-4,1,-4)o.Image="rbxassetid://2454009026"o.ImageColor3=a.colors.bottomGradient n[1+#n]={o;"ImageColor3","bottomGradient"}r.Name="realTextbox"if c.Rich or c.RichText or c.RichTextBox then r.RichText=true end if c.MultiLine or c.Lines then r.MultiLine=true end if c.Font or c.TextFont then r.Font=c.Font end if c.TextScaled or c.Scaled then r.TextScaled=true end r.BackgroundColor3=Color3.new(1,1,1)r.BackgroundTransparency=1 r.Position=UDim2.new(.0295485705)r.Size=UDim2.fromScale(.97,1)r.ZIndex=5 r.Font=Enum.Font.Code r.LineHeight=1.15 r.Text=tostring(f)r.TextColor3=a.colors.otherElementText n[1+#n]={r,"TextColor3";"otherElementText"}r.TextSize=14 if c.ClearTextOnFocus or c.ClearText then r.ClearTextOnFocus=true else r.ClearTextOnFocus=false end r.PlaceholderText=g~=nil and tostring(g)or f~=nil and tostring(f)or""r.TextXAlignment=Enum.TextXAlignment.Left if c.CustomProperties and type(c.CustomProperties)=="table"then for a,b in next,c.CustomProperties do local c,d=pcall(function()r[a]=b end)if not c and d then warn("Error setting Textbox",i,"|",d,debug.traceback(""))end end end r.Parent=m s.Name="textboxHeadline"s.Parent=l s.Active=true s.BackgroundColor3=Color3.new(1,1,1)s.BackgroundTransparency=1 s.Position=UDim2.new(.031)s.Selectable=true s.Size=UDim2.fromOffset(206,20)s.ZIndex=5 s.Font=Enum.Font.Code s.LineHeight=1.15 s.Text=e and tostring(e)or"???"s.TextColor3=a.colors.elementText n[1+#n]={s;"TextColor3";"elementText"}s.TextSize=14 s.TextXAlignment=Enum.TextXAlignment.Left C:Update()local w=f local function x(a)if c.PreFormat then local b=type(c.PreFormat)if b=="function"then local b,d=pcall(c.PreFormat,a)if not b and d then warn("Error in Pre-Format (Textbox "..(i.."):"),d)else a=d end end end if k=="number"then if not c.Hex and(not c.Binary and not c.Base)then a=tonumber(a)or tonumber(a:gsub("%D",""),10)or 0 else a=tonumber(a,c.Hex and 16 or c.Binary and 2 or c.Base or 10)or 0 end if c.Max or c.Min then a=math.clamp(a,c.Min or-math.huge,c.Max or math.huge)end local b=tonumber(c.Decimals or c.Precision or c.Precise)if b then a=tonumber(string.format("%0."..(tostring(b).."f"),a))end end if c.PostFormat then local b=type(c.PostFormat)if b=="function"then local b,d=pcall(c.PostFormat,a)if not b and d then warn("Error in Post-Format (Textbox "..(i.."):"),d)else a=d end end end return a and tonumber(a)or a end a.signals[1+#a.signals]=r.FocusLost:Connect(function()w=b[i]local a=x(r.Text)b[i]=a if c.Location then c.Location[c.LocationFlag or i]=a end if h and w~=a then task.spawn(h,tostring(a),w,r)end end)a.signals[1+#a.signals]=l.MouseEnter:Connect(function()u[3]="main"u[4]=1.5 v[3]="main"v[4]=2.5;(p:Create(m,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=darkenColor(a.colors.main,1.5),ImageColor3=darkenColor(a.colors.main,2.5)})):Play()end)a.signals[1+#a.signals]=l.MouseLeave:Connect(function()u[3]="topGradient"u[4]=nil v[3]="bottomGradient"v[4]=nil;(p:Create(m,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=a.colors.topGradient,ImageColor3=a.colors.bottomGradient})):Play()end)local function y(a,d)if nil==d and a~=nil then d=a end w=b[i]b[i]=d if c.Location then c.Location[c.LocationFlag or i]=d end local e=d~=nil and tostring(d)or"Empty Text"if r.Text~=e then r.Text=e end if h and(w~=d or c.AllowDuplicateCalls)then task.spawn(h,d,w,r)end return d end if f~=nil then y(f)else b[i]=f if c.Location then c.Location[c.LocationFlag or i]=f end end local A=b[i]local function B()e,g,h=c.Name or e,c.Placeholder or g,c.Callback local a=b[i]a=a~=nil and tostring(a)or"Empty Text"if r.Text~=a then r.Text=a end s.Text=e and tostring(e)or"???"return a end local D={Options=c;Name=i,Flag=i;Type="Textbox";Default=A;Parent=C,Instance=r;Get=function()return b[i]end,Set=y;Update=B,Remove=function()if l then l.Parent=nil C:Update()end end,RawSet=function(a,d)if a~=nil and d==nil then d=a end w=b[i]b[i]=d if c.Location then c.Location[c.LocationFlag or i]=d end B()return d end;Reset=function()return y(nil,A)end}U.Flags[i],C.Flags[i],t[i]=D,D,D return D end C.AddTextBox=C.AddTextbox C.NewTextBox=C.AddTextbox C.CreateTextBox=C.AddTextbox C.TextBox=C.AddTextbox C.NewTextbox=C.AddTextbox C.CreateTextbox=C.AddTextbox C.Textbox=C.AddTextbox C.Box=C.AddTextbox function C.AddKeybind(d,c,...)c=c and(type(c)=="string"and j("Keybind",c,...))or c local e,f,g,h,i=assert(c.Name,"Missing Name for new keybind."),c.Value,c.Callback,c.Pressed,c.Flag or(function()a.unnamedkeybinds=1+(a.unnamedkeybinds or 0)return"Keybind"..tostring(a.unnamedkeybinds)end)()local k=c.CoreBinding and true or nil if t[i]~=nil then warn(debug.traceback("Warning! Re-used flag \'"..(i.."\'"),3))end a.keyHandler=v local l=c.KeyNames or v local m=z("Frame")local o=z("TextLabel")local r=z("Frame")local s=z("UIListLayout")local u=z("TextButton")local w=f local x=false local y=f and(tostring(f)):gsub("Enum.KeyCode.","")or""m.Name="newKeybind"m.Parent=q m.BackgroundColor3=Color3.new(1,1,1)m.BackgroundTransparency=1 m.Size=UDim2.new(1,0,0,19)o.Name="keybindHeadline"o.Parent=m o.BackgroundColor3=Color3.new(1,1,1)o.BackgroundTransparency=1 o.Position=UDim2.fromScale(.031,.165842161)o.Size=UDim2.fromOffset(215,12)o.Font=Enum.Font.Code o.Text=e and tostring(e)or"???"o.TextColor3=a.colors.elementText n[1+#n]={o,"TextColor3","elementText"}o.TextSize=14 o.TextXAlignment=Enum.TextXAlignment.Left r.Name="keybindPositioner"r.Parent=m r.BackgroundColor3=Color3.new(1,1,1)r.BackgroundTransparency=1 r.Position=UDim2.new(.00448430516)r.Size=UDim2.fromOffset(214,19)s.Name="keybindList"s.Parent=r s.FillDirection=Enum.FillDirection.Horizontal s.HorizontalAlignment=Enum.HorizontalAlignment.Right s.SortOrder=Enum.SortOrder.LayoutOrder s.VerticalAlignment=Enum.VerticalAlignment.Center u.Name="keybindButton"u.Parent=r u.Active=false u.BackgroundColor3=Color3.new(1,1,1)u.BackgroundTransparency=1 u.Position=UDim2.fromScale(.598130822,.184210524)u.Selectable=false u.Size=UDim2.fromOffset(46,12)u.Font=Enum.Font.Code u.Text=f and(tostring(f)):gsub("Enum.KeyCode.","")or"[NONE]"u.TextColor3=a.colors.otherElementText local A={u,"TextColor3","otherElementText"}n[1+#n]=A u.TextSize=14 u.TextXAlignment=Enum.TextXAlignment.Right u.Size=UDim2.fromOffset((I(u)).X+4,12)C:Update()local B=w or f local function D()local d=nil if k then d=tick()Y=d end local e=u.Text A[3]="main"A[4]=nil;(p:Create(u,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{TextColor3=a.colors.main})):Play()if B then u.Text="(Was "..((B and(tostring(B)):gsub("Enum.KeyCode.","")or"[NONE]")..") [...]")else u.Text="[...]"end local f=nil f=E.InputBegan:Connect(function(h)B=b[i]if not l.notAllowedKeys[h.KeyCode]then if h.KeyCode~=Enum.KeyCode.Unknown then w=h.KeyCode~=Enum.KeyCode.Escape and h.KeyCode or b[i]b[i]=w if c.Location then c.Location[c.LocationFlag or i]=w end if w then y=l.allowedKeys[w]u.Text="["..((y or w.Name or(tostring(h.KeyCode)):gsub("Enum.KeyCode.","")).."]")u.Size=UDim2.fromOffset((I(u)).X+4,12)x=true A[3]="otherElementText"A[4]=nil;(p:Create(u,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{TextColor3=a.colors.otherElementText})):Play()f:Disconnect()end if g and B~=w then task.spawn(g,w,B)end if k then delay(.1,function()if Y and Y==d then Y=nil end end)end return elseif h.KeyCode==Enum.KeyCode.Unknown and not l.notAllowedMouseInputs[h.UserInputType]then w=h.UserInputType b[i]=w if c.Location then c.Location[c.LocationFlag or i]=w end y=l.allowedKeys[w]u.Text="["..((y or w.Name or(tostring(h.KeyCode)):gsub("Enum.KeyCode.","")).."]")u.Size=UDim2.fromOffset((I(u)).X+4,12)x=true A[3]="otherElementText"A[4]=nil;(p:Create(u,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{TextColor3=a.colors.otherElementText})):Play()f:Disconnect()if g and B~=w then task.spawn(g,w,B)end if k then delay(.1,function()if Y and Y==d then Y=nil end end)end return end end if h.KeyCode==Enum.KeyCode.Backspace or Enum.KeyCode.Escape==h.KeyCode then e,w="[NONE]",nil end u.Text=e A[3]="otherElementText"A[4]=nil;(p:Create(u,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{TextColor3=a.colors.otherElementText})):Play()f:Disconnect()if g and B~=w then task.spawn(g,w,B)end end)a.signals[1+#a.signals]=f end a.signals[1+#a.signals]=u.MouseButton1Click:Connect(D)a.signals[1+#a.signals]=m.InputEnded:Connect(function(b)if not a.colorpicker and(not X and b.UserInputType==Enum.UserInputType.MouseButton1)then D()end end)if h then a.signals[1+#a.signals]=E.InputBegan:Connect(function(a,b)if not l.notAllowedKeys[a.KeyCode]and not l.notAllowedMouseInputs[a.UserInputType]then if not x and w==a.UserInputType or not x and(w==a.KeyCode and not b)then if h then task.spawn(h,a,b)end end if x then x=false end end end)end local function F(d,e)if nil==e and d~=nil then e=d end if e=="nil"or e=="NONE"or e=="none"then e=nil end B=b[i]w=e b[i]=e if c.Location then c.Location[c.LocationFlag or i]=e end y=e==nil and"NONE"or l.allowedKeys[e]u.Text="["..((y or e.Name or(tostring(e)):gsub("Enum.KeyCode.","")).."]")u.Size=UDim2.fromOffset((I(u)).X+4,12)x=true A[3]="otherElementText"A[4]=nil;(p:Create(u,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{TextColor3=a.colors.otherElementText})):Play()if g and(B~=e or c.AllowDuplicateCalls)then task.spawn(g,e,B)end return e end if f~=nil then F(f)else b[i]=w if c.Location then c.Location[c.LocationFlag or i]=w end end local G=b[i]local function H()e,g,h=c.Name or e,c.Callback,c.Pressed local d=b[i]y=d==nil and"NONE"or l.allowedKeys[d]u.Text="["..((y or d.Name or(tostring(d)):gsub("Enum.KeyCode.","")).."]")u.Size=UDim2.fromOffset((I(u)).X+4,12)A[3]="otherElementText"A[4]=nil;(p:Create(u,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{TextColor3=a.colors.otherElementText})):Play()o.Text=e and tostring(e)or"???"return d end local J={Options=c,Name=i,Flag=i;Type="Keybind";Default=G;Parent=C;Instance=u;Get=function()return b[i]end;Set=F,Remove=function()if m then m.Parent=nil C:Update()end end,RawSet=function(a,d)if nil==d and a~=nil then d=a end if d=="nil"or d=="NONE"or d=="none"then d=nil end B=b[i]w=d b[i]=d if c.Location then c.Location[c.LocationFlag or i]=d end x=true return d end;Update=H;Reset=function()return F(nil,G)end}U.Flags[i],C.Flags[i],t[i]=J,J,J return J end C.NewKeybind=C.AddKeybind C.CreateKeybind=C.AddKeybind C.Keybind=C.AddKeybind C.Bind=C.AddKeybind function C.AddLabel(c,b,...)b=b and(type(b)=="string"and j("Label",b,...))or b local d,e=b.Text or b.Value or b.Name,b.Flag or(function()a.unnamedlabels=1+(a.unnamedlabels or 0)return"Label"..tostring(a.unnamedlabels)end)()if t[e]~=nil then warn(debug.traceback("Warning! Re-used flag \'"..(e.."\'"),3))end local f=z("Frame")local g=z("TextLabel")local h=z("Frame")local i=z("TextButton")f.Name="newLabel"f.Parent=q f.BackgroundColor3=Color3.new(1,1,1)f.BackgroundTransparency=1 f.Size=UDim2.new(1,0,0,19)g.Name="labelHeadline"g.Parent=f g.BackgroundColor3=Color3.new(1,1,1)g.BackgroundTransparency=1 g.Position=UDim2.fromScale(.031,.165842161)g.Size=UDim2.fromOffset(215,12)g.Font=Enum.Font.Code g.Text=d and tostring(d)or"Empty Text"g.TextColor3=a.colors.elementText n[1+#n]={g,"TextColor3";"elementText"}g.TextSize=14 g.TextXAlignment=Enum.TextXAlignment.Left h.Name="labelPositioner"h.Parent=f h.BackgroundColor3=Color3.new(1,1,1)h.BackgroundTransparency=1 h.Position=UDim2.new(.00448430516)h.Size=UDim2.fromOffset(214,19)C:Update()local function k(a,b)if nil==b and a~=nil then b=a end g.Text=nil~=b and tostring(b)or"Empty Text"return b end local l=g.Text local m={Options=b,Name=e;Flag=e,Type="Label";Default=l;Parent=C;Instance=g,Get=function()return g.Text,g end,Set=k,SetText=k,Remove=function()if f then f.Parent=nil C:Update()end end,RawSet=k;Update=function()return g.Text end,Reset=function()return k(nil,l)end}U.Flags[e],C.Flags[e],t[e]=m,m,m return m end C.NewLabel=C.AddLabel C.CreateLabel=C.AddLabel C.Label=C.AddLabel C.Text=C.AddLabel function C.AddSlider(d,c,...)c=c and(type(c)=="string"and j("Slider",c,...))or c local e,f,g,h,i,k=assert(c.Name,"Missing Name for new slider."),assert(c.Max,"Missing Max for new slider."),assert(c.Min,"Missing Min for new slider."),c.Value,c.Callback,c.Flag or(function()a.unnamedsliders=1+(a.unnamedsliders or 0)return"Slider"..tostring(a.unnamedsliders)end)()if t[k]~=nil then warn(debug.traceback("Warning! Re-used flag \'"..(k.."\'"),3))end local l=tonumber(c.Decimals or c.Precision or c.Precise)if not l and c.Max-c.Min<=1 then l=1 end if l then l=math.clamp(l,0,99)if l<=0 then l=nil end l=tostring(l)end local m=c.Format and type(c.Format)local function o(a,b)local d=nil if l then d=string.format("%0."..(l.."f"),a)end d=d or tostring(a)if m=="string"then return string.format(c.Format,a)elseif m=="function"then local d,f=pcall(c.Format,a,b)if not d or not f then warn("Your format function for",e,"Slider:",k,"has returned nothing. It should return a string to display.",debug.traceback(""))return"Format Function Errored"end return tostring(f)end return(e or"???")..(": "..d)end local r=c.Textbox or c.InputBox or c.CustomInput local s=z("Frame")local u=z("ImageLabel")local v=z("ImageLabel")local w=z("ImageLabel")local x=z("TextLabel")local y=h or g local A=false s.Name="newSlider"s.Parent=q s.BackgroundColor3=Color3.new(1,1,1)s.BackgroundTransparency=1 s.Size=UDim2.new(1,0,0,42)u.Name="slider"u.Parent=s u.Active=true u.BackgroundColor3=a.colors.topGradient local B={u,"BackgroundColor3";"topGradient"}n[1+#n]=B u.BorderColor3=a.colors.elementBorder n[1+#n]={u,"BorderColor3";"elementBorder"}u.Position=UDim2.fromScale(.031,.48)u.Selectable=true u.Size=r and UDim2.fromOffset(156,18)or UDim2.fromOffset(206,18)u.Image="rbxassetid://2454009026"u.ImageColor3=a.colors.bottomGradient local D={u,"ImageColor3";"bottomGradient"}n[1+#n]=D v.Name="sliderInner"v.Parent=u v.Active=true v.AnchorPoint=Vector2.new(.5,.5)v.BackgroundColor3=a.colors.topGradient n[1+#n]={v,"BackgroundColor3";"topGradient"}v.BorderColor3=a.colors.elementBorder n[1+#n]={v;"BorderColor3","elementBorder"}v.Position=UDim2.fromScale(.5,.5)v.Selectable=true v.Size=UDim2.new(1,-4,1,-4)v.Image="rbxassetid://2454009026"v.ImageColor3=a.colors.bottomGradient n[1+#n]={v;"ImageColor3","bottomGradient"}w.Name="sliderColored"w.Parent=v w.Active=true w.BackgroundColor3=darkenColor(a.colors.main,1.5)n[1+#n]={w,"BackgroundColor3";"main",1.5}w.BorderSizePixel=0 w.Selectable=true w.Size=UDim2.fromScale(((y or g)-g)/(f-g),1)w.Image="rbxassetid://2454009026"w.ImageColor3=darkenColor(a.colors.main,2.5)n[1+#n]={w,"ImageColor3";"main",2.5}x.Name="sliderHeadline"x.Parent=s x.Active=true x.BackgroundColor3=Color3.new(1,1,1)x.BackgroundTransparency=1 x.Position=UDim2.new(.031)x.Selectable=true x.Size=UDim2.fromOffset(206,20)x.ZIndex=5 x.Font=Enum.Font.Code x.LineHeight=1.15 x.Text=o(y)x.TextColor3=a.colors.elementText n[1+#n]={x;"TextColor3";"elementText"}x.TextSize=14 x.TextXAlignment=Enum.TextXAlignment.Left local F=nil local function G(d,e)if nil==e and d~=nil then e=d end g,f=c.Min,c.Max if e and(c.IllegalInput or(not g or e>=g)and(not f or e<=f))then local d=b[k]b[k]=e if c.Location then c.Location[c.LocationFlag or k]=e end do local b=c.IllegalInput and math.clamp(e,g or-math.huge,f or math.huge)or e;(p:Create(w,TweenInfo.new(.25,a.configuration.easingStyle,a.configuration.easingDirection),{Size=UDim2.fromScale(((b or g)-g)/(f-g),1)})):Play()end x.Text=o(e,d)if r and F then F.Text=tostring(e)end if i and(d~=e or c.AllowDuplicateCalls)then task.spawn(i,e,d)end end return e end if h~=nil then G(h)else b[k]=y if c.Location then c.Location[c.LocationFlag or k]=y end end if r then if type(r)~="table"then r=c end local b=z("ImageLabel")local d=z("ImageLabel")F=z("TextBox")b.Name="textbox"b.Parent=s b.Active=true b.BackgroundColor3=a.colors.topGradient local e={b;"BackgroundColor3";"topGradient"}n[1+#n]=e b.BorderColor3=a.colors.elementBorder n[1+#n]={b,"BorderColor3","elementBorder"}b.Position=UDim2.new(1,-54,.48)b.Selectable=true b.Size=UDim2.fromOffset(43,18)b.Image="rbxassetid://2454009026"b.ImageColor3=a.colors.bottomGradient local f={b;"ImageColor3";"bottomGradient"}n[1+#n]=f d.Name="textboxInner"d.Parent=b d.Active=true d.AnchorPoint=Vector2.new(.5,.5)d.BackgroundColor3=a.colors.topGradient n[1+#n]={d,"BackgroundColor3";"topGradient"}d.BorderColor3=a.colors.elementBorder n[1+#n]={d,"BorderColor3","elementBorder"}d.Position=UDim2.fromScale(.5,.5)d.Selectable=true d.Size=UDim2.new(1,-4,1,-4)d.Image="rbxassetid://2454009026"d.ImageColor3=a.colors.bottomGradient n[1+#n]={d,"ImageColor3";"bottomGradient"}F.Name="realTextbox"F.Parent=b F.BackgroundColor3=Color3.new(1,1,1)F.BackgroundTransparency=1 F.Position=UDim2.new(.0295485705)F.Size=UDim2.fromScale(.97,1)F.ZIndex=5 F.ClearTextOnFocus=false F.Font=Enum.Font.Code F.LineHeight=1.15 F.Text=tostring(h)F.TextColor3=a.colors.otherElementText n[1+#n]={F;"TextColor3";"otherElementText"}F.TextSize=14 F.PlaceholderText=h~=nil and tostring(h)or""a.signals[1+#a.signals]=F.FocusLost:Connect(function()local a=F.Text if r.PreFormat then local b=type(r.PreFormat)if b=="function"then local b,c=pcall(r.PreFormat,a)if not b and c then warn("Error in Pre-Format (Textbox "..(k.."):"),c)else a=c end end end a=not r.Hex and(not r.Binary and(not r.Base and(tonumber(a)or tonumber(a:gsub("%D",""),10)or 0)))or tonumber(a,r.Hex and 16 or r.Binary and 2 or r.Base or 10)or 0 if not c.IllegalInput and(c.Max or c.Min)then a=math.clamp(a,c.Min or-math.huge,c.Max or math.huge)end local b=tonumber(c.Decimals or c.Precision or c.Precise)if b then a=tonumber(string.format("%0."..(tostring(b).."f"),a))end if r.PostFormat then local b=type(r.PostFormat)if b=="function"then local b,c=pcall(r.PostFormat,a)if not b and c then warn("Error in Post-Format (Textbox "..(k.."):"),c)else a=c end end end G(a and tonumber(a)or h or 0)end)a.signals[1+#a.signals]=b.MouseEnter:Connect(function()e[3]="main"e[4]=1.5 f[3]="main"f[4]=2.5;(p:Create(b,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=darkenColor(a.colors.main,1.5);ImageColor3=darkenColor(a.colors.main,2.5)})):Play()end)a.signals[1+#a.signals]=b.MouseLeave:Connect(function()e[3]="topGradient"e[4]=nil f[3]="bottomGradient"f[4]=nil;(p:Create(b,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=a.colors.topGradient;ImageColor3=a.colors.bottomGradient})):Play()end)end C:Update()a.signals[1+#a.signals]=u.MouseEnter:Connect(function()B[3]="main"B[4]=1.5 D[3]="main"D[4]=2.5;(p:Create(u,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=darkenColor(a.colors.main,1.5);ImageColor3=darkenColor(a.colors.main,2.5)})):Play()end)a.signals[1+#a.signals]=u.MouseLeave:Connect(function()B[3]="topGradient"B[4]=nil D[3]="bottomGradient"D[4]=nil;(p:Create(u,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=a.colors.topGradient,ImageColor3=a.colors.bottomGradient})):Play()end)local function H(d,e,h)local j=b[k]local m=UDim2.fromScale(math.clamp((d.Position.X-e.AbsolutePosition.X)/e.AbsoluteSize.X,0,1),1);(p:Create(h,TweenInfo.new(.25,a.configuration.easingStyle,a.configuration.easingDirection),{Size=m})):Play()local n=nil if l then n=tonumber(string.format("%0."..(l.."f"),((m.X.Scale*f)/f)*(f-g)+g))end n=n or tonumber(string.format("%0.2f",L(((m.X.Scale*f)/f)*(f-g)+g)))b[k]=n if c.Location then c.Location[c.LocationFlag or k]=n end x.Text=o(n,j)if r and F then F.Text=tostring(n)end if i and j~=n then task.spawn(i,n,j)end j=n end a.signals[1+#a.signals]=s.InputBegan:Connect(function(b)if not a.colorpicker and b.UserInputType==Enum.UserInputType.MouseButton1 then A=true N=true end end)a.signals[1+#a.signals]=s.InputEnded:Connect(function(b)if not a.colorpicker and b.UserInputType==Enum.UserInputType.MouseButton1 then A=false N=false end end)a.signals[1+#a.signals]=s.InputBegan:Connect(function(b)if not a.colorpicker and(not N and b.UserInputType==Enum.UserInputType.MouseButton1)then N=true H(b,v,w)end end)a.signals[1+#a.signals]=E.InputChanged:Connect(function(b)if not a.colorpicker and(A and b.UserInputType==Enum.UserInputType.MouseMovement)then H(b,v,w)end end)local I=b[k]local function J(d,h)if h==nil and(d~=nil and type(d)~="table")then h=d end e,f,g,i=c.Name or e,c.Max or f,c.Min or g,c.Callback local j=b[k]do local b=math.clamp(j,c.Min or-math.huge,c.Max or math.huge);(p:Create(w,TweenInfo.new(.25,a.configuration.easingStyle,a.configuration.easingDirection),{Size=UDim2.fromScale(((b or g)-g)/(f-g),1)})):Play()end x.Text=o(j,h)if r and F then F.Text=tostring(j)end return j end local K={Options=c;Name=k,Flag=k,Type="Slider";Default=I,Parent=C,Instance=x;Set=G;Get=function()return b[k]end;SetConstraints=function(a,b,d)if a and type(a)~="table"then b,d=a,b end if b then c.Min=b end if d then c.Max=d end J()end,SetMin=function(a,b)if b==nil and a~=nil then b=a end if b and b~=c.Min then c.Min=b J()end end;SetMax=function(a,b)if b==nil and a~=nil then b=a end if b and b~=c.Max then c.Max=b J()end end;Update=J,Remove=function()if s then s.Parent=nil C:Update()end end;RawSet=function(a,d)if nil==d and a~=nil then d=a end local e=b[k]b[k]=d if c.Location then c.Location[c.LocationFlag or k]=d end J(nil,e)end,Reset=function()return G(nil,I)end}U.Flags[k],C.Flags[k],t[k]=K,K,K return K end C.NewSlider=C.AddSlider C.CreateSlider=C.AddSlider C.NumberConstraint=C.AddSlider C.Slider=C.AddSlider C.Slide=C.AddSlider function C.AddSearchBox(d,c,...)c=c and(type(c)=="string"and j("SearchBox",c,...))or c local e,g,h,i,l=assert(c.Name,"Missing Name for new searchbox."),assert(c.List,"Missing List for new searchbox."),c.Value,c.Callback,c.Flag or(function()a.unnamedsearchbox=1+(a.unnamedsearchbox or 0)return"SearchBox"..tostring(a.unnamedsearchbox)end)()if t[l]~=nil then warn(debug.traceback("Warning! Re-used flag \'"..(l.."\'"),3))end local m=z("Frame")local o=z("ImageLabel")local r=z("ImageLabel")local s=z("ImageButton")local u=z("TextBox")local v=z("TextLabel")local w=z("ImageLabel")local x=z("ImageLabel")local y=z("ScrollingFrame")local A=z("UIListLayout")local D=false local F=B(g,c.Filter)local G=F()local H=c.MultiSelect or c.Multi or c.Multiple local I=H and type(H)local J=not H and(c.BlankValue or c.NoValueString or c.Nothing)local K=h or G[1]or J local L=c.ItemAdded or c.AddedCallback local M=c.ItemRemoved or c.RemovedCallback local N=c.ItemsCleared or c.ClearedCallback local O=c.ItemChanged or c.ChangedCallback if J and h==nil then h=J end if h~=nil then K=h end if H and(not K or type(K)~="table")then K={}end local P={}local Q=0 m.Name="newDropdown"m.Parent=q m.BackgroundColor3=Color3.new(1,1,1)m.BackgroundTransparency=1 m.Size=UDim2.new(1,0,0,42)o.Name="dropdown"o.Parent=m o.Active=true o.BackgroundColor3=a.colors.topGradient local R={o;"BackgroundColor3";"topGradient"}n[1+#n]=R o.BorderColor3=a.colors.elementBorder n[1+#n]={o;"BorderColor3";"elementBorder"}o.Position=UDim2.fromScale(.027,.45)o.Selectable=true o.Size=UDim2.fromOffset(206,18)o.Image="rbxassetid://2454009026"o.ImageColor3=a.colors.bottomGradient local S={o;"ImageColor3";"bottomGradient"}n[1+#n]=S r.Name="dropdownInner"r.Parent=o r.Active=true r.AnchorPoint=Vector2.new(.5,.5)r.BackgroundColor3=a.colors.topGradient n[1+#n]={r;"BackgroundColor3","topGradient"}r.BorderColor3=a.colors.elementBorder n[1+#n]={r,"BorderColor3";"elementBorder"}r.Position=UDim2.fromScale(.5,.5)r.Selectable=true r.Size=UDim2.new(1,-4,1,-4)r.Image="rbxassetid://2454009026"r.ImageColor3=a.colors.bottomGradient n[1+#n]={r;"ImageColor3","bottomGradient"}s.Name="dropdownToggle"s.Parent=o s.BackgroundColor3=Color3.new(1,1,1)s.BackgroundTransparency=1 s.Position=UDim2.fromScale(.9,.17)s.Rotation=90 s.Size=UDim2.fromOffset(12,12)s.ZIndex=6 s.Image="rbxassetid://71659683"s.ImageColor3=Color3.fromRGB(171,171,171)u.Name="dropdownSelection"u.Parent=o u.BackgroundColor3=Color3.new(1,1,1)u.BackgroundTransparency=1 u.Position=UDim2.new(.0295485705)u.Size=UDim2.fromScale(.85,1)u.ZIndex=5 u.Font=Enum.Font.Code u.LineHeight=1.15 u.Text=I=="string"and H or tostring(H and(J or"Select Item(s)")or K and tostring(K)or J or"No Blank String")u.TextColor3=a.colors.otherElementText n[1+#n]={u;"TextColor3","otherElementText"}u.TextSize=14 u.TextXAlignment=Enum.TextXAlignment.Left u.ClearTextOnFocus=true v.Name="dropdownHeadline"v.Parent=m v.BackgroundColor3=Color3.new(1,1,1)v.BackgroundTransparency=1 v.Position=UDim2.fromScale(.034,.03)v.Size=UDim2.fromOffset(167,11)v.Font=Enum.Font.Code v.Text=e and tostring(e)or"???"v.TextColor3=a.colors.elementText n[1+#n]={v;"TextColor3";"elementText"}v.TextSize=14 v.TextXAlignment=Enum.TextXAlignment.Left w.Name="dropdownHolderFrame"w.Parent=m w.Active=true w.BackgroundColor3=a.colors.topGradient n[1+#n]={w;"BackgroundColor3","topGradient"}w.BorderColor3=a.colors.elementBorder n[1+#n]={w,"BorderColor3";"elementBorder"}w.Position=UDim2.fromScale(.025,1.012)w.Selectable=true w.Size=UDim2.fromOffset(206,22)w.Visible=false w.Image="rbxassetid://2454009026"w.ImageColor3=a.colors.bottomGradient n[1+#n]={w;"ImageColor3";"bottomGradient"}x.Name="dropdownHolderInner"x.Parent=w x.Active=true x.AnchorPoint=Vector2.new(.5,.5)x.BackgroundColor3=a.colors.topGradient n[1+#n]={x,"BackgroundColor3";"topGradient"}x.BorderColor3=a.colors.elementBorder x.Position=UDim2.fromScale(.5,.5)x.Selectable=true x.Size=UDim2.new(1,-4,1,-4)x.Image="rbxassetid://2454009026"x.ImageColor3=a.colors.bottomGradient n[1+#n]={x,"ImageColor3";"bottomGradient"}y.Name="realDropdownHolder"y.Parent=x y.BackgroundColor3=Color3.new(1,1,1)y.BackgroundTransparency=1 y.Selectable=false y.Size=UDim2.fromScale(1,1)y.CanvasSize=UDim2.new()y.ScrollBarThickness=5 y.ScrollingDirection=Enum.ScrollingDirection.Y y.AutomaticCanvasSize=Enum.AutomaticSize.Y y.ScrollBarImageTransparency=.5 y.ScrollBarImageColor3=a.colors.section n[1+#n]={y;"ScrollBarImageColor3";"section"}A.Name="realDropdownHolderList"A.Parent=y A.HorizontalAlignment=Enum.HorizontalAlignment.Center A.SortOrder=Enum.SortOrder.LayoutOrder C:Update()local T={}a.signals[1+#a.signals]=m.MouseEnter:Connect(function()R[3]="main"R[4]=1.5 S[3]="main"S[4]=2.5;(p:Create(o,TweenInfo.new(.25,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=darkenColor(a.colors.main,1.5),ImageColor3=darkenColor(a.colors.main,2.5)})):Play()end)a.signals[1+#a.signals]=m.MouseLeave:Connect(function()if not D then R[3]="topGradient"R[4]=nil S[3]="bottomGradient"S[4]=nil;(p:Create(o,TweenInfo.new(.25,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=a.colors.topGradient,ImageColor3=a.colors.bottomGradient})):Play()end end)local function V()if Q>=6 then y.CanvasSize=UDim2:fromOffset(A.AbsoluteContentSize.Y+2)elseif Q<=5 then w.Size=UDim2.fromOffset(206,A.AbsoluteContentSize.Y+4)end end local function W(d,e)if c.Sort then local b,e=nil,c.Sort if type(e)=="function"then local a,c=pcall(table.sort,d,e)if a then b=true elseif c then warn("Error sorting list:",c,debug.traceback(""))end end if not b then table.sort(d,a.defaultSort)end end if J and(d[1]~=J or table.find(d,J,2))then local a=table.find(d,J)if a then for b=1,35,1 do table.remove(d,a)a=table.find(d,J)if not a then break end end end table.insert(d,1,J)end Q=0 A.Parent=nil y:ClearAllChildren()A.Parent=y for d,f in next,d do if not e or((tostring(f)):lower()):find(u.Text:lower(),1,not c.RegEx)then Q=Q+1 V()local d=z("ImageLabel")local e=z("TextButton")if K==f then P[1]=d P[2]=e end d.Name="Frame"d.Parent=y local g=not H and K==f or H and table.find(K,f)d.BackgroundColor3=g and a.colors.selectedOption or a.colors.topGradient d.BorderSizePixel=0 d.Size=UDim2.fromOffset(202,18)d.Image="rbxassetid://2454009026"d.ImageColor3=g and a.colors.unselectedOption or a.colors.bottomGradient local h=tostring(f)e.Name=h e.Parent=d e.Active=true e.AnchorPoint=Vector2.new(.5,.5)e.BackgroundColor3=Color3.new(1,1,1)e.BackgroundTransparency=1 e.Position=UDim2.fromScale(.5,.5)e.Selectable=true e.Size=UDim2.new(1,-10,1)e.ZIndex=5 e.Font=Enum.Font.Code e.Text=g and" "..h or h e.TextColor3=g and a.colors.main or a.colors.otherElementText e.TextSize=14 e.TextXAlignment=Enum.TextXAlignment.Left a.signals[1+#a.signals]=e[H and"MouseButton1Click"or"MouseButton1Down"]:Connect(function()if not a.colorpicker then u.Text=I=="string"and H or tostring(J or"Select Item(s)")T[k]=T[k]or k.ZIndex T[m]=T[m]or m.ZIndex T[q]=T[q]or q.ZIndex if H then local b={unpack(K)}local c=table.find(K,f)if c then table.remove(K,c)else K[1+#K]=f end c=table.find(K,f)e.Text=c and" "..h or h d.BackgroundColor3=c and a.colors.selectedOption or a.colors.topGradient d.ImageColor3=c and a.colors.unselectedOption or a.colors.bottomGradient e.TextColor3=c and a.colors.main or a.colors.otherElementText if i then task.spawn(i,K,b)end if c then if L then task.spawn(L,f,K)end elseif M then task.spawn(M,f,K)end if O then task.spawn(O,f,c,K)end if#K==0 and N then task.spawn(N,K,b)end return else u.Text=h if K~=f then local g=b[l]P[1].BackgroundColor3=a.colors.topGradient P[1].ImageColor3=a.colors.bottomGradient P[2].Text=P[2].Name P[2].TextColor3=a.colors.otherElementText K=f P[1]=d P[2]=e d.BackgroundColor3=a.colors.selectedOption d.ImageColor3=a.colors.unselectedOption e.TextColor3=a.colors.main w.Visible=false s.Rotation=90 D=false m.ZIndex=1 R[3]="topGradient"R[4]=nil S[3]="bottomGradient"S[4]=nil;(p:Create(o,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=a.colors.topGradient;ImageColor3=a.colors.bottomGradient})):Play()b[l]=K if c.Location then c.Location[c.LocationFlag or l]=K end u.Text=tostring(K)if X then X=nil end if i then task.spawn(i,K,g)end else X=nil s.Rotation=90 R[3]="topGradient"R[4]=nil S[3]="bottomGradient"S[4]=nil;(p:Create(o,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=a.colors.topGradient,ImageColor3=a.colors.bottomGradient})):Play()w.Visible=false end end for a,b in next,T do a.ZIndex=b end end end)a.signals[1+#a.signals]=e.MouseEnter:Connect(function()(p:Create(d,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=a.colors.hoveredOptionTop,ImageColor3=a.colors.hoveredOptionBottom})):Play()end)a.signals[1+#a.signals]=e.MouseLeave:Connect(function()local b=not H and K==f or H and table.find(K,f);(p:Create(d,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=b and a.colors.selectedOption or a.colors.topGradient;ImageColor3=b and a.colors.unselectedOption or a.colors.bottomGradient})):Play()end)V()end end end local Y,Z=nil local ab=false local function bb(b,d)if X==o or X==nil then if b then G=F()W(G,d)X=o s.Rotation=270 T[k]=T[k]or k.ZIndex T[m]=T[m]or m.ZIndex T[q]=T[q]or q.ZIndex k.ZIndex=50+k.ZIndex m.ZIndex=2 q.ZIndex=2 R[3]="main"R[4]=1.5 S[3]="main"S[4]=2.5;(p:Create(o,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=darkenColor(a.colors.main,1.5),ImageColor3=darkenColor(a.colors.main,2.5)})):Play()w.Visible=true if not c.DisablePrecisionScrolling then local b=tonumber(c.ScrollButtonRate or c.ScrollRate)or 5 local d=c.ScrollUpButton or a.scrollupbutton or shared.scrollupbutton or Enum.KeyCode.Up local e=c.ScrollDownButton or a.scrolldownbutton or shared.scrolldownbutton or Enum.KeyCode.Down Y=Y and(Y:Disconnect()and nil)or E.InputBegan:Connect(function(a)if a.UserInputType==Enum.UserInputType.Keyboard then local c=a.KeyCode local g=c==d local h=c==e if g or h then local a=E:GetFocusedTextBox()if not a or a==u then while f()and E:IsKeyDown(c)do y.CanvasPosition=Vector2:new(math.clamp(y.CanvasPosition.Y+(g and-b or b),0,y.AbsoluteCanvasSize.Y))end end end end end)a.signals[1+#a.signals]=Y end else X=nil s.Rotation=90 R[3]="topGradient"R[4]=nil S[3]="bottomGradient"S[4]=nil;(p:Create(o,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=a.colors.topGradient,ImageColor3=a.colors.bottomGradient})):Play()w.Visible=false for a,b in next,T do a.ZIndex=b end Y=Y and(Y:Disconnect()and nil)or nil end end ab=b if ab or b then else delay(.01,Z)end end local cb=H and function(a,c)if nil==c and a~=nil then c=a end local d=b[l]if not d or K~=d then if d and type(d)=="table"then K=b[l]else b[l]=K end warn("Attempting to use new table for",l," Please use :Set(), because setting it through flags table may cause errors",debug.traceback(""))d=b[l]end local e={unpack(K)}if not c then if#K~=0 then table.clear(K)if i then task.spawn(i,K,e)end end return K elseif type(c)~="table"then warn("Expected table for argument #1 on Set for MultiSelect searchbox. Got",c,debug.traceback(""))return K end for a=(table.pack(unpack(c))).n,1,-1 do if c[a]==nil then table.remove(c,a)end end local f=#e~=#c table.clear(K)for a,b in next,c do K[a]=b if not f and e[a]~=b then f=1 end end u.Text=I=="string"and H or tostring(J or"Select Item(s)")if f and i then task.spawn(i,K,e)end return K end or function(a,d)if nil==d and a then d=a end local e=b[l]K=d b[l]=d if c.Location then c.Location[c.LocationFlag or l]=d end local f=K and tostring(K)or J or"No Blank String"if u.Text~=f then u.Text=f end if i and(e~=d or c.AllowDuplicateCalls)then task.spawn(i,d,e)end return d end if h~=nil then cb(h)else b[l]=K if c.Location then c.Location[c.LocationFlag or l]=K end end a.signals[1+#a.signals]=s.MouseButton1Click:Connect(function()ab=not ab bb(ab)end)a.signals[1+#a.signals]=u.Focused:Connect(function()ab=true bb(true)end)a.signals[1+#a.signals]=(u:GetPropertyChangedSignal("Text")):Connect(function()if ab then bb(true,#u.Text>0)end end)if not H then a.signals[1+#a.signals]=u.FocusLost:Connect(function(a)if ab then wait()end ab=false bb(false)if a then cb(u.Text)end end)end W(G)local db=b[l]function Z()e,i=c.Name or e,c.Callback local a=I=="string"and H or not H and(b[l]and tostring(b[l]))or not H and(K and tostring(K))or J or"Nothing"if u.Text~=a then u.Text=a end v.Text=e and tostring(e)or"???"return a end local function eb(a)if G and table.find(G,b[l])then Z()return true end if a~=nil then if a=="__DEFAULT"then a=db end else a=G[1]end if H and type(a)~="table"then a={a}end return cb(a)end local fb={Options=c;Name=l,Flag=l;Type="SearchBox",Default=db,Parent=C,Instance=u,Validate=eb;Set=cb,Remove=function()if m then m.Parent=nil C:Update()end end;RawSet=H and function(a,c)if nil==c and a~=nil then c=a end local d=b[l]if not d or K~=d then if d and type(d)=="table"then K=b[l]else b[l]=K end warn("Attempting to use new table for",l," Please use :Set(), as setting through flags table may cause errors",debug.traceback(""))d=b[l]end local e={unpack(K)}if not c then if#K~=0 then table.clear(K)if i then task.spawn(i,K,e)end end return K elseif type(c)~="table"then warn("Expected table for argument #1 on Set for MultiSelect searchbox. Got",c,debug.traceback(""))return K end for a=(table.pack(unpack(c))).n,1,-1 do if c[a]==nil then table.remove(c,a)end end local f=#e~=#c table.clear(K)for a,b in next,c do K[a]=b if not f and e[a]~=b then f=1 end end Z()return K end or function(a,d)if nil==d and a then d=a end K=d b[l]=d if c.Location then c.Location[c.LocationFlag or l]=d end Z()return d end;Get=function()return b[l]end;Update=Z;Reset=function()return cb(nil,db)end}function fb.UpdateList(a,b,d)if nil==b and a~=nil or type(a)=="table"and type(b)~="table"then b,d=a,b end if b==fb then b=nil end F=B(b or c.List,c.Filter,c.Method)G=F()if d then eb()end if ab then bb(false)bb(true)end return G end U.Flags[l],C.Flags[l],t[l]=fb,fb,fb return fb end C.NewSearchBox=C.AddSearchBox C.CreateSearchBox=C.AddSearchBox C.SearchBox=C.AddSearchBox C.CreateSearchbox=C.AddSearchBox C.NewSearchbox=C.AddSearchBox C.Searchbox=C.AddSearchBox C.Sbox=C.AddSearchBox C.SBox=C.AddSearchBox if isfolder and(makefolder and(listfiles and(readfile and writefile)))then function C.AddPersistence(d,c,...)c=c and(type(c)=="string"and j("Tab",c,...))or c local e,g,h,i,l,m,o,r,s,u,v=assert(c.Name,"Missing Name for new persistence."),c.Workspace or a.WorkspaceName,c.Value,c.Persistive or c.Flags or"all",c.Suffix,c.Callback,c.LoadCallback,c.SaveCallback,c.PostLoadCallback,c.PostSaveCallback,c.Flag or(function()a.unnamedpersistence=1+(a.unnamedpersistence or 0)return"Persistence"..tostring(a.unnamedpersistence)end)()if t[v]~=nil then warn(debug.traceback("Warning! Re-used flag \'"..(v.."\'"),3))end local w=c.Desginer local x=z("Frame")local y=z("ImageLabel")local A=z("ImageLabel")local B=z("ImageButton")local D=z("TextBox")local F=z("TextLabel")local G=z("ImageLabel")local H=z("ImageLabel")local K=z("ScrollingFrame")local L=z("UIListLayout")local N=false if not isfolder("./Pepsi Lib")then makefolder("./Pepsi Lib")end local O="./Pepsi Lib/"..tostring(g or a.WorkspaceName)local function S(b)if g~=c.Workspace then g=c.Workspace O="./Pepsi Lib/"..tostring(g or a.WorkspaceName)end if not isfolder or not makefolder or not listfiles then return{}end if not isfolder(O)then if b then return{}end makefolder(O)end assert(isfolder(O),"Couldn\'t create folder: "..tostring(a.WorkspaceName or"No workspace name?"))local d,e={},listfiles(O)if#e>0 then local a=#O+2 for b,c in next,e do d[1+#d]=string.sub(c,a,-5)end table.sort(d)end return d end local T=S(true)local V=c.BlankValue or c.NoValueString or c.Nothing local W={}local Y=0 if V and h==nil then h=V end local Z=h or V or T[1]x.Name="newDropdown"x.Parent=q x.BackgroundColor3=Color3.new(1,1,1)x.BackgroundTransparency=1 x.Size=UDim2.new(1,0,0,42)y.Name="dropdown"y.Parent=x y.Active=true y.BackgroundColor3=a.colors.topGradient local ab={y;"BackgroundColor3";"topGradient"}n[1+#n]=ab y.BorderColor3=a.colors.elementBorder n[1+#n]={y,"BorderColor3";"elementBorder"}y.Position=UDim2.fromScale(.027,.45)y.Selectable=true y.Size=UDim2.fromOffset(206,18)y.Image="rbxassetid://2454009026"y.ImageColor3=a.colors.bottomGradient local bb={y,"ImageColor3";"bottomGradient"}n[1+#n]=bb A.Name="dropdownInner"A.Parent=y A.Active=true A.AnchorPoint=Vector2.new(.5,.5)A.BackgroundColor3=a.colors.topGradient n[1+#n]={A;"BackgroundColor3","topGradient"}A.BorderColor3=a.colors.elementBorder n[1+#n]={A,"BorderColor3";"elementBorder"}A.Position=UDim2.fromScale(.5,.5)A.Selectable=true A.Size=UDim2.new(1,-4,1,-4)A.Image="rbxassetid://2454009026"A.ImageColor3=a.colors.bottomGradient n[1+#n]={A;"ImageColor3","bottomGradient"}B.Name="dropdownToggle"B.Parent=y B.BackgroundColor3=Color3.new(1,1,1)B.BackgroundTransparency=1 B.Position=UDim2.fromScale(.9,.17)B.Rotation=90 B.Size=UDim2.fromOffset(12,12)B.ZIndex=2 B.Image="rbxassetid://71659683"B.ImageColor3=Color3.fromRGB(171,171,171)D.Name="dropdownSelection"D.Parent=y D.BackgroundColor3=Color3.new(1,1,1)D.BackgroundTransparency=1 D.Position=UDim2.new(.0295485705)D.Size=UDim2.fromScale(.97,1)D.ZIndex=5 D.Font=Enum.Font.Code D.LineHeight=1.15 D.Text=Z and tostring(Z)or"nil"D.TextColor3=a.colors.otherElementText n[1+#n]={D;"TextColor3","otherElementText"}D.TextSize=14 D.TextXAlignment=Enum.TextXAlignment.Left F.Name="dropdownHeadline"F.Parent=x F.BackgroundColor3=Color3.new(1,1,1)F.BackgroundTransparency=1 F.Position=UDim2.fromScale(.034,.03)F.Size=UDim2.fromOffset(167,11)F.Font=Enum.Font.Code F.Text=e and tostring(e)or"???"F.TextColor3=a.colors.elementText n[1+#n]={F,"TextColor3","elementText"}F.TextSize=14 F.TextXAlignment=Enum.TextXAlignment.Left G.Name="dropdownHolderFrame"G.Parent=x G.Active=true G.BackgroundColor3=a.colors.topGradient n[1+#n]={G,"BackgroundColor3";"topGradient"}G.BorderColor3=a.colors.elementBorder n[1+#n]={G,"BorderColor3";"elementBorder"}G.Position=UDim2.fromScale(.025,1.012)G.Selectable=true G.Size=UDim2.fromOffset(206,22)G.Visible=false G.Image="rbxassetid://2454009026"G.ImageColor3=a.colors.bottomGradient n[1+#n]={G,"ImageColor3";"bottomGradient"}H.Name="dropdownHolderInner"H.Parent=G H.Active=true H.AnchorPoint=Vector2.new(.5,.5)H.BackgroundColor3=a.colors.topGradient n[1+#n]={H;"BackgroundColor3","topGradient"}H.BorderColor3=a.colors.elementBorder n[1+#n]={H;"BorderColor3","elementBorder"}H.Position=UDim2.fromScale(.5,.5)H.Selectable=true H.Size=UDim2.new(1,-4,1,-4)H.Image="rbxassetid://2454009026"H.ImageColor3=a.colors.bottomGradient n[1+#n]={H;"ImageColor3","bottomGradient"}K.Name="realDropdownHolder"K.Parent=H K.BackgroundColor3=Color3.new(1,1,1)K.BackgroundTransparency=1 K.Selectable=false K.Size=UDim2.fromScale(1,1)K.CanvasSize=UDim2.new()K.ScrollBarThickness=5 K.ScrollingDirection=Enum.ScrollingDirection.Y K.AutomaticCanvasSize=Enum.AutomaticSize.Y K.ScrollBarImageTransparency=.5 K.ScrollBarImageColor3=a.colors.section n[1+#n]={K;"ScrollBarImageColor3";"section"}L.Name="realDropdownHolderList"L.Parent=K L.HorizontalAlignment=Enum.HorizontalAlignment.Center L.SortOrder=Enum.SortOrder.LayoutOrder C:Update()a.signals[1+#a.signals]=x.MouseEnter:Connect(function()ab[3]="main"ab[4]=1.5 bb[3]="main"bb[4]=2.5;(p:Create(y,TweenInfo.new(.25,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=darkenColor(a.colors.main,1.5),ImageColor3=darkenColor(a.colors.main,2.5)})):Play()end)a.signals[1+#a.signals]=x.MouseLeave:Connect(function()if not N then ab[3]="topGradient"ab[4]=nil bb[3]="bottomGradient"bb[4]=nil;(p:Create(y,TweenInfo.new(.25,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=a.colors.topGradient;ImageColor3=a.colors.bottomGradient})):Play()end end)local cb={}local function db()if Y>=6 then K.CanvasSize=UDim2:fromOffset(L.AbsoluteContentSize.Y+2)elseif Y<=5 then G.Size=UDim2.fromOffset(206,L.AbsoluteContentSize.Y+4)end end local function eb(d,e)if c.Sort then local b,e=nil,c.Sort if type(e)=="function"then local a,c=pcall(table.sort,d,e)if a then b=true elseif c then warn("Error sorting list:",c,debug.traceback(""))end end if not b then table.sort(d,a.defaultSort)end end if V and(d[1]~=V or table.find(d,V,2))then local a=table.find(d,V)if a then for b=1,35,1 do table.remove(d,a)a=table.find(d,V)if not a then break end end end table.insert(d,1,V)end Y=0 L.Parent=nil K:ClearAllChildren()L.Parent=K for d,f in next,d do if not e or((tostring(f)):lower()):find(D.Text:lower(),1,true)then Y=Y+1 db()local d=z("ImageLabel")local e=z("TextButton")if Z==f or not W[1]or not W[2]then W[1]=d W[2]=e end d.Name="Frame"d.Parent=K d.BackgroundColor3=Z==f and a.colors.selectedOption or a.colors.topGradient d.BorderSizePixel=0 d.Size=UDim2.fromOffset(202,18)d.Image="rbxassetid://2454009026"d.ImageColor3=Z==f and a.colors.unselectedOption or a.colors.bottomGradient e.Name=tostring(f)e.Parent=d e.AnchorPoint=Vector2.new(.5,.5)e.BackgroundColor3=Color3.new(1,1,1)e.BackgroundTransparency=1 e.Position=UDim2.fromScale(.5,.5)e.Size=UDim2.new(1,-10,1)e.ZIndex=5 e.Font=Enum.Font.Code e.Text=Z==f and" "..tostring(f)or tostring(f)e.TextColor3=Z==f and a.colors.main or a.colors.otherElementText e.TextSize=14 e.TextXAlignment=Enum.TextXAlignment.Left a.signals[1+#a.signals]=e.MouseButton1Down:Connect(function()D.Text=tostring(f)cb[k]=cb[k]or k.ZIndex cb[x]=cb[x]or x.ZIndex cb[q]=cb[q]or q.ZIndex if Z~=f then local g=b[v]W[1].BackgroundColor3=a.colors.topGradient W[1].ImageColor3=a.colors.bottomGradient W[2].Text=W[2].Name W[2].TextColor3=a.colors.otherElementText Z=f W[1]=d W[2]=e d.BackgroundColor3=a.colors.selectedOption d.ImageColor3=a.colors.unselectedOption e.TextColor3=a.colors.main G.Visible=false B.Rotation=90 N=false ab[3]="topGradient"ab[4]=nil bb[3]="bottomGradient"bb[4]=nil;(p:Create(y,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=a.colors.topGradient,ImageColor3=a.colors.bottomGradient})):Play()b[v]=Z if c.Location then c.Location[c.LocationFlag or v]=Z end D.Text=tostring(Z)if X then X=nil end if m then task.spawn(m,Z,g)end else X=nil B.Rotation=90 x.ZIndex=1 q.ZIndex=1 ab[3]="topGradient"ab[4]=nil bb[3]="bottomGradient"bb[4]=nil;(p:Create(y,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=a.colors.topGradient;ImageColor3=a.colors.bottomGradient})):Play()G.Visible=false end for a,b in next,cb do a.ZIndex=b end end)a.signals[1+#a.signals]=e.MouseEnter:Connect(function()(p:Create(d,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=a.colors.hoveredOptionTop,ImageColor3=a.colors.hoveredOptionBottom})):Play()end)a.signals[1+#a.signals]=e.MouseLeave:Connect(function()(p:Create(d,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=a.colors.unhoveredOptionTop;ImageColor3=a.colors.unhoveredOptionBottom})):Play()end)db()end end end local fb,gb=nil local hb=false local function ib(b,d)if X==y or X==nil then if b then T=S(true)eb(T,d)X=y cb[k]=cb[k]or k.ZIndex cb[x]=cb[x]or x.ZIndex cb[q]=cb[q]or q.ZIndex k.ZIndex=50+k.ZIndex B.Rotation=270 x.ZIndex=2 q.ZIndex=2 ab[3]="main"ab[4]=1.5 bb[3]="main"bb[4]=2.5;(p:Create(y,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=darkenColor(a.colors.main,1.5),ImageColor3=darkenColor(a.colors.main,2.5)})):Play()G.Visible=true if not c.DisablePrecisionScrolling then local b=c.ScrollUpButton or a.scrollupbutton or shared.scrollupbutton or Enum.KeyCode.Up local d=c.ScrollDownButton or a.scrolldownbutton or shared.scrolldownbutton or Enum.KeyCode.Down fb=fb and(fb:Disconnect()and nil)or E.InputBegan:Connect(function(a)if a.UserInputType==Enum.UserInputType.Keyboard then local c=a.KeyCode local e=c==b local g=c==d if e or g then local a=E:GetFocusedTextBox()if not a then while f()and E:IsKeyDown(c)do K.CanvasPosition=Vector2:new(math.clamp(K.CanvasPosition.Y+(e and-5 or 5),0,K.AbsoluteCanvasSize.Y))end end end end end)a.signals[1+#a.signals]=fb end else X=nil B.Rotation=90 ab[3]="topGradient"ab[4]=nil bb[3]="bottomGradient"bb[4]=nil;(p:Create(y,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=a.colors.topGradient;ImageColor3=a.colors.bottomGradient})):Play()G.Visible=false for a,b in next,cb do a.ZIndex=b end fb=fb and(fb:Disconnect()and nil)or nil end hb=b if hb or b then else delay(.01,gb)end end end local jb=nil local function kb(a,d)if nil==d and a then d=a end Z=d jb=b[v]b[v]=d if c.Location then c.Location[c.LocationFlag or v]=d end local e=Z and tostring(Z)or V or"No Blank String"if D.Text~=e then D.Text=e end if m and(jb~=d or c.AllowDuplicateCalls)then task.spawn(m,d,jb)end return d end if h~=nil then kb(h)else kb("Filename")end a.signals[1+#a.signals]=D.Focused:Connect(function()hb=true ib(true)end)a.signals[1+#a.signals]=(D:GetPropertyChangedSignal("Text")):Connect(function()if hb then ib(true,#D.Text>0)end end)a.signals[1+#a.signals]=D.FocusLost:Connect(function(a)if hb then wait()end hb=false ib(false)if a then kb(D.Text)end end)eb(T)local function lb(c,d)if not c or type(c)~="string"then c=nil end local e="json__save"if not d then local a=string.gsub(c or D.Text or"","%W","")if#a==0 then return end e=string.format("%s/%s.txt",O,a)end if r then local a,c=pcall(r,e,b[v])if not a and c then warn("Error while calling the Pre-Save callback:",c,debug.traceback(""))end end local f={}if i==1 or i==true or i=="*"then i="all"elseif i==2 then i="tab"elseif i==3 then i="section"end if i=="all"or i=="tab"or i=="section"then for a,b in next,i=="all"and t or i=="tab"and U.Flags or i=="section"and C.Flags do if b.Type~="Persistence"and(w or string.sub(a,1,11)~="__Designer.")then f[a]=b end end elseif type(i)=="table"then if#i>0 then local a=i[0]==false or i.Inverted for b,c in next,i do if b>0 then local b=t[c]if b and(b.Type~="Persistence"and(w or string.sub(c,1,11)~="__Designer."))then f[c]=not a and b or nil end end end else for a,b in next,t do if b and(w or string.sub(a,1,11)~="__Designer.")then local b=t[a]if b then f[a]=b end end end end end local g={}for c in next,f do local d=b[c]local e,f=nil,nil if d~=nil then e,f=P(d)else e,f=true,"null"end if not e or f=="null"and d~=nil then local b=typeof(d)if b=="Color3"then d=a.rainbowflags[c]and"rainbow"or M(d)end d=tostring(d)e,f=P(d)if not e or f=="null"and d~=nil then warn("Could not save value:",d,debug.traceback(""))end end if e and f then g[c]=d end end local h=nil local j,k=P(g)if j and k then if not d then if not isfolder(O)then makefolder(O)end writefile(e,k)else h=k end end if u then local a,c=pcall(u,e,b[v])if not a and c then warn("Error while calling the Post-Save callback:",c,debug.traceback(""))end end return h end local function mb(a,c,d)if not a or type(a)~="string"then a=nil end local e="json__load"if not c then local b=R(a or D.Text,nil,"")if#b==0 then return end e=string.format("%s/%s.txt",O,b)end if o then local d,f=pcall(o,c and a or e,b[v])if not d and f then warn("Error while calling the Pre-Load callback:",f,debug.traceback(""))end end if c or not isfile or isfile(e)then local f=c and a or not c and readfile(e)if f and#f>1 then local a,c=Q(f)if a and c then for a,c in next,c do if c and(type(c)=="string"and(#c>7 and(#c<64 and string.sub(c,1,5)=="Enum.")))then local a=string.find(c,".",6,true)if a then local b=Enum[string.sub(c,6,a-1)]b=b and b[string.sub(c,a+1)]if b then c=b else warn("Tried & failed to convert \'"..(c.."\' to EnumItem"))end end end local e=t[a]if e and e.Type~="Persistence"then if d and e.RawSet then e:RawSet(c)elseif e.Set then e:Set(c)else b[a]=c end end end end end end if s then local a,c=pcall(s,e,b[v])if not a and c then warn("Error while calling the Post-Load callback:",c,debug.traceback(""))end end end local nb=nil do local b,c={},0 for b,d in next,{{Name="Save"..(l and" "..tostring(l)or"");Callback=lb};{Name="Load"..(l and" "..tostring(l)or"");Callback=mb}}do local e,f=d.Name,d.Callback local g=z("TextButton")g.Name="realButton"g.BackgroundColor3=Color3.new(1,1,1)g.BackgroundTransparency=1 g.Size=UDim2.fromScale(1,1)g.ZIndex=5 g.Font=Enum.Font.Code g.Text=e and tostring(e)or"???"g.TextColor3=a.colors.elementText n[1+#n]={g;"TextColor3","elementText"}g.TextSize=14 local h=(I(g)).X+14 if k.Parent and k.Parent.AbsoluteSize.X<(c+h)+8 then c,nb=0,nil end local i=nb or z("Frame")nb=i local j=z("ImageLabel")i.Name=J((e and e:lower()or"???").."Holder")i.Parent=q i.BackgroundColor3=Color3.new(1,1,1)i.BackgroundTransparency=1 i.Size=UDim2.new(1,0,0,24)j.Name="button"j.Parent=i j.Active=true j.BackgroundColor3=a.colors.topGradient local l={j;"BackgroundColor3";"topGradient"}n[1+#n]=l j.BorderColor3=a.colors.elementBorder n[1+#n]={j;"BorderColor3";"elementBorder"}j.Position=UDim2.new(.031,c,.166)j.Selectable=true j.Size=UDim2.fromOffset(28,18)j.Image="rbxassetid://2454009026"j.ImageColor3=a.colors.bottomGradient local m={j,"ImageColor3";"bottomGradient"}n[1+#n]=m local o=z("ImageLabel")o.Name="buttonInner"o.Parent=j o.Active=true o.AnchorPoint=Vector2.new(.5,.5)o.BackgroundColor3=a.colors.topGradient n[1+#n]={o,"BackgroundColor3";"topGradient"}o.BorderColor3=a.colors.elementBorder n[1+#n]={o;"BorderColor3";"elementBorder"}o.Position=UDim2.fromScale(.5,.5)o.Selectable=true o.Size=UDim2.new(1,-4,1,-4)o.Image="rbxassetid://2454009026"o.ImageColor3=a.colors.bottomGradient n[1+#n]={o;"ImageColor3","bottomGradient"}j.Size=UDim2.fromOffset(h,18)g.Parent=j c=(c+h)+6 C:Update()local r=0 a.signals[1+#a.signals]=g.MouseButton1Click:Connect(function()if not a.colorpicker and not X then r=1+r task.spawn(f,r)end end)a.signals[1+#a.signals]=j.MouseEnter:Connect(function()l[3]="main"l[4]=1.5 m[3]="main"m[4]=2.5;(p:Create(j,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=darkenColor(a.colors.main,1.5),ImageColor3=darkenColor(a.colors.main,2.5)})):Play()end)a.signals[1+#a.signals]=j.MouseLeave:Connect(function()l[3]="topGradient"l[4]=nil m[3]="bottomGradient"m[4]=nil;(p:Create(j,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=a.colors.topGradient;ImageColor3=a.colors.bottomGradient})):Play()end)end end local ob=b[v]function gb()e,g,i,l,m,o,r,s,u=c.Name or e,c.Workspace or a.WorkspaceName,c.Persistive or c.Flags or"all",c.Suffix,c.Callback,c.LoadCallback,c.SaveCallback,c.PostLoadCallback,c.PostSaveCallback local d=tostring(b[v])if D.Text~=d then D.Text=d end F.Text=e and tostring(e)or"???"return d end local pb={Options=c,Name=v,Flag=v;Type="Persistence";Default=ob,Parent=C;Instance=D;Set=kb,Remove=function()local a=nil if x then x.Parent=nil a=true end if nb then nb.Parent=nil a=true end if a then C:Update()end end;SaveFile=function(a,b,c)if a~=nil and type(a)~="table"then b,c=a,b end if type(b)=="string"then b=b:match("(.+)%..+$")or b end return lb(b,c)end,LoadFile=function(a,b,c)if a~=nil and type(a)~="table"then b,c=a,b end if isfile and isfile(b)then return mb(readfile(b),true)elseif not c and type(b)=="string"then b=b:match("(.+)%..+$")or b end return mb(b,c)end;LoadJSON=function(a,b)return mb(b,true)end,LoadFileRaw=function(a,b,c)if a~=nil and type(a)~="table"then b,c=a,b end if isfile and isfile(b)then return mb(readfile(b),true,true)elseif not c and type(b)=="string"then b=b:match("(.+)%..+$")or b end return mb(b,c,true)end;LoadJSONRaw=function(a,b)return mb(b,true,true)end;GetJSON=function(a,b)if nil==b and a~=nil then b=a end local c=lb(nil,true)local d=b and(type(b)=="function"and b)or setclipboard if b and d then d(c)end return c end;RawSet=function(a,d)if nil==d and a~=nil then d=a end Z=d jb=b[v]b[v]=d if c.Location then c.Location[c.LocationFlag or v]=d end gb()return d end;Get=function()return b[v]end,Update=gb,Reset=function()return kb(nil,ob)end}U.Flags[v],C.Flags[v],t[v]=pb,pb,pb return pb end else function C.AddPersistence()if not a.warnedpersistance then a.warnedpersistance=1 warn(debug.traceback("Persistance not supported"))end function C.AddPersistence() end end end C.NewPersistence=C.AddPersistence C.CreatePersistence=C.AddPersistence C.Persistence=C.AddPersistence C.CreateSaveLoad=C.AddPersistence C.SaveLoad=C.AddPersistence C.SL=C.AddPersistence function C.AddDropdown(d,c,...)c=c and(type(c)=="string"and j("Dropdown",c,...))or c local e,g,h,i,l=assert(c.Name,"Missing Name for new searchbox."),assert(c.List,"Missing List for new searchbox."),c.Value,c.Callback,c.Flag or(function()a.unnameddropdown=1+(a.unnameddropdown or 0)return"Dropdown"..tostring(a.unnameddropdown)end)()if t[l]~=nil then warn(debug.traceback("Warning! Re-used flag \'"..(l.."\'"),3))end local m=z("Frame")local o=z("ImageLabel")local r=z("ImageLabel")local s=z("ImageButton")local u=z("TextLabel")local v=z("TextLabel")local w=z("ImageLabel")local x=z("ImageLabel")local y=z("ScrollingFrame")local A=z("UIListLayout")local D=false local F=c.MultiSelect or c.Multi or c.Multiple local G=c.ItemAdded or c.AddedCallback local H=c.ItemRemoved or c.RemovedCallback local I=c.ItemsCleared or c.ClearedCallback local J=c.ItemChanged or c.ChangedCallback local K=not F and(c.BlankValue or c.NoValueString or c.Nothing)local L=B(g,c.Filter,c.Method)local M=L()local N=M[1]local O=F and type(F)if K and h==nil then h=K end if h~=nil then N=h end if F and(not N or type(N)~="table")then N={}end local P={}local Q=0 m.Name="newDropdown"m.Parent=q m.BackgroundColor3=Color3.new(1,1,1)m.BackgroundTransparency=1 m.Size=UDim2.new(1,0,0,42)o.Name="dropdown"o.Parent=m o.Active=true o.BackgroundColor3=a.colors.topGradient local R={o;"BackgroundColor3","topGradient"}n[1+#n]=R o.BorderColor3=a.colors.elementBorder n[1+#n]={o;"BorderColor3","elementBorder"}o.Position=UDim2.fromScale(.027,.45)o.Selectable=true o.Size=UDim2.fromOffset(206,18)o.Image="rbxassetid://2454009026"o.ImageColor3=a.colors.bottomGradient local S={o,"ImageColor3","bottomGradient"}n[1+#n]=S r.Name="dropdownInner"r.Parent=o r.Active=true r.AnchorPoint=Vector2.new(.5,.5)r.BackgroundColor3=a.colors.topGradient n[1+#n]={r;"BackgroundColor3","topGradient"}r.BorderColor3=a.colors.elementBorder n[1+#n]={r,"BorderColor3";"elementBorder"}r.Position=UDim2.fromScale(.5,.5)r.Selectable=true r.Size=UDim2.new(1,-4,1,-4)r.Image="rbxassetid://2454009026"r.ImageColor3=a.colors.bottomGradient n[1+#n]={r,"ImageColor3";"bottomGradient"}s.Name="dropdownToggle"s.Parent=o s.BackgroundColor3=Color3.new(1,1,1)s.BackgroundTransparency=1 s.Position=UDim2.fromScale(.9,.17)s.Rotation=90 s.Size=UDim2.fromOffset(12,12)s.ZIndex=2 s.Image="rbxassetid://71659683"s.ImageColor3=Color3.fromRGB(171,171,171)u.Name="dropdownSelection"u.Parent=o u.Active=true u.BackgroundColor3=Color3.new(1,1,1)u.BackgroundTransparency=1 u.Position=UDim2.new(.0295)u.Selectable=true u.Size=UDim2.fromScale(.97,1)u.ZIndex=5 u.Font=Enum.Font.Code u.Text=O=="string"and F or F and tostring(K or"Select Item(s)")or N and tostring(N)or tostring(K or"No Blank String")u.TextColor3=a.colors.otherElementText n[1+#n]={u,"TextColor3","otherElementText"}u.TextSize=14 u.TextXAlignment=Enum.TextXAlignment.Left v.Name="dropdownHeadline"v.Parent=m v.BackgroundColor3=Color3.new(1,1,1)v.BackgroundTransparency=1 v.Position=UDim2.fromScale(.034,.03)v.Size=UDim2.fromOffset(167,11)v.Font=Enum.Font.Code v.Text=e and tostring(e)or"???"v.TextColor3=a.colors.elementText n[1+#n]={v;"TextColor3","elementText"}v.TextSize=14 v.TextXAlignment=Enum.TextXAlignment.Left w.Name="dropdownHolderFrame"w.Parent=m w.Active=true w.BackgroundColor3=a.colors.topGradient n[1+#n]={w,"BackgroundColor3","topGradient"}w.BorderColor3=a.colors.elementBorder n[1+#n]={w;"BorderColor3","elementBorder"}w.Position=UDim2.fromScale(.025,1.012)w.Selectable=true w.Size=UDim2.fromOffset(206,22)w.Visible=false w.Image="rbxassetid://2454009026"w.ImageColor3=a.colors.bottomGradient n[1+#n]={w,"ImageColor3","bottomGradient"}x.Name="dropdownHolderInner"x.Parent=w x.Active=true x.AnchorPoint=Vector2.new(.5,.5)x.BackgroundColor3=a.colors.topGradient n[1+#n]={x,"BackgroundColor3";"topGradient"}x.BorderColor3=a.colors.elementBorder n[1+#n]={x,"BorderColor3";"elementBorder"}x.Position=UDim2.fromScale(.5,.5)x.Selectable=true x.Size=UDim2.new(1,-4,1,-4)x.Image="rbxassetid://2454009026"x.ImageColor3=a.colors.bottomGradient n[1+#n]={x;"ImageColor3";"bottomGradient"}y.Name="realDropdownHolder"y.Parent=x y.BackgroundColor3=Color3.new(1,1,1)y.BackgroundTransparency=1 y.Selectable=false y.Size=UDim2.fromScale(1,1)y.CanvasSize=UDim2.new()y.ScrollBarThickness=5 y.ScrollingDirection=Enum.ScrollingDirection.Y y.AutomaticCanvasSize=Enum.AutomaticSize.Y y.ScrollBarImageTransparency=.5 y.ScrollBarImageColor3=a.colors.section n[1+#n]={y,"ScrollBarImageColor3";"section"}A.Name="realDropdownHolderList"A.Parent=y A.HorizontalAlignment=Enum.HorizontalAlignment.Center A.SortOrder=Enum.SortOrder.LayoutOrder C:Update()local T=false local function V()if Q>=6 then y.CanvasSize=UDim2:fromOffset(A.AbsoluteContentSize.Y+2)elseif Q<=5 then w.Size=UDim2.fromOffset(206,A.AbsoluteContentSize.Y+4)end end local W={}local Y=F and function(a,c)if nil==c and a~=nil then c=a end local d=b[l]if not d or N~=d then if d and type(d)=="table"then N=b[l]else b[l]=N end warn("Attempting to use new table for",l," Please use :Set(), as setting through flags table may cause errors",debug.traceback(""))d=b[l]end local e={unpack(N)}if not c then if#N~=0 then table.clear(N)if i then task.spawn(i,N,e)end end return N elseif type(c)~="table"then warn("Expected table for argument #1 on Set for MultiSelect dropdown. Got",c,debug.traceback(""))return N end for a=(table.pack(unpack(c))).n,1,-1 do if c[a]==nil then table.remove(c,a)end end local f=#e~=#c table.clear(N)for a,b in next,c do N[a]=b if not f and e[a]~=b then f=1 end end u.Text=O=="string"and F or tostring(K or"Select Item(s)")if f and i then task.spawn(i,N,e)end return N end or function(a,d)if nil==d and a~=nil then d=a end local e=b[l]N=d b[l]=d if c.Location then c.Location[c.LocationFlag or l]=d end local f=N and tostring(N)or K or"No Blank String"if u.Text~=f then u.Text=f end if i and(e~=d or c.AllowDuplicateCalls)then task.spawn(i,d,e)end return d end if h~=nil then Y(h)else b[l]=N if c.Location then c.Location[c.LocationFlag or l]=N end end local function Z(d)if c.Sort then local b,e=nil,c.Sort if type(e)=="function"then local a,c=pcall(table.sort,d,e)if a then b=true elseif c then warn("Error sorting list:",c,debug.traceback(""))end elseif e~=1 and e~=true then warn("Potential mistake for passed Sort argument:",e,debug.traceback(""))end if not b then table.sort(d,a.defaultSort)end end if K and(d[1]~=K or table.find(d,K,2))then local a=table.find(d,K)if a then for b=1,35,1 do table.remove(d,a)a=table.find(d,K)if not a then break end end end table.insert(d,1,K)end Q=0 A.Parent=nil y:ClearAllChildren()A.Parent=y for d,e in next,d do Q=Q+1 local f=z("ImageLabel")local g=z("TextButton")if N==e then P[1]=f P[2]=g end f.Name="Frame"f.Parent=y local h=not F and N==e or F and table.find(N,e)f.BackgroundColor3=h and a.colors.selectedOption or a.colors.topGradient f.BorderSizePixel=0 f.Size=UDim2.fromOffset(202,18)f.Image="rbxassetid://2454009026"f.ImageColor3=h and a.colors.unselectedOption or a.colors.bottomGradient local j=tostring(e)g.Name=j g.Parent=f g.AnchorPoint=Vector2.new(.5,.5)g.BackgroundColor3=Color3.new(1,1,1)g.BackgroundTransparency=1 g.Position=UDim2.fromScale(.5,.5)g.Size=UDim2.new(1,-10,1)g.ZIndex=5 g.Font=Enum.Font.Code g.Text=h and" "..j or j g.TextColor3=h and a.colors.main or a.colors.otherElementText g.TextSize=14 g.TextXAlignment=Enum.TextXAlignment.Left a.signals[1+#a.signals]=g.MouseButton1Click:Connect(function()if not a.colorpicker then W[k]=W[k]or k.ZIndex W[m]=W[m]or m.ZIndex W[q]=W[q]or q.ZIndex if F then local b={unpack(N)}local c=table.find(N,e)if c then table.remove(N,c)else N[1+#N]=e end c=table.find(N,e)g.Text=c and" "..j or j f.BackgroundColor3=c and a.colors.selectedOption or a.colors.topGradient f.ImageColor3=c and a.colors.unselectedOption or a.colors.bottomGradient g.TextColor3=c and a.colors.main or a.colors.otherElementText u.Text=O=="string"and F or tostring(K or"Select Item(s)")if i then task.spawn(i,N,b)end if c then if G then task.spawn(G,e,N)end elseif H then task.spawn(H,e,N)end if J then task.spawn(J,e,c,N)end if#N==0 and I then task.spawn(I,N,b)end return else if N~=e then local d=b[l]P[1].BackgroundColor3=a.colors.topGradient P[1].ImageColor3=a.colors.bottomGradient P[2].Text=P[2].Name P[2].TextColor3=a.colors.otherElementText N=e u.Text=j P[1]=f P[2]=g f.BackgroundColor3=a.colors.selectedOption f.ImageColor3=a.colors.unselectedOption g.Text=" "..j g.TextColor3=a.colors.main w.Visible=false s.Rotation=90 D=false m.ZIndex=1 R[3]="topGradient"R[4]=nil S[3]="bottomGradient"S[4]=nil;(p:Create(o,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=a.colors.topGradient,ImageColor3=a.colors.bottomGradient})):Play()b[l]=N if c.Location then c.Location[c.LocationFlag or l]=N end X=nil T=false if i then task.spawn(i,N,d)end else T=false X=nil s.Rotation=90 m.ZIndex=1 q.ZIndex=1 R[3]="topGradient"R[4]=nil S[3]="bottomGradient"S[4]=nil;(p:Create(o,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=a.colors.topGradient,ImageColor3=a.colors.bottomGradient})):Play()w.Visible=false end end for a,b in next,W do a.ZIndex=b end end end)a.signals[1+#a.signals]=g.MouseEnter:Connect(function()(p:Create(f,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=a.colors.hoveredOptionTop;ImageColor3=a.colors.hoveredOptionBottom})):Play()end)a.signals[1+#a.signals]=g.MouseLeave:Connect(function()local b=not F and N==e or F and table.find(N,e);(p:Create(f,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=b and a.colors.selectedOption or a.colors.topGradient;ImageColor3=b and a.colors.unselectedOption or a.colors.bottomGradient})):Play()end)V()end end local ab,bb=nil local function cb(d)M=L()if d then Z(M)X=o s.Rotation=270 W[k]=W[k]or k.ZIndex W[m]=W[m]or m.ZIndex W[q]=W[q]or q.ZIndex k.ZIndex=50+k.ZIndex m.ZIndex=2 q.ZIndex=2 R[3]="main"R[4]=1.5 S[3]="main"S[4]=2.5;(p:Create(o,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=darkenColor(a.colors.main,1.5);ImageColor3=darkenColor(a.colors.main,2.5)})):Play()w.Visible=true if not c.DisablePrecisionScrolling then local b=c.ScrollUpButton or a.scrollupbutton or shared.scrollupbutton or Enum.KeyCode.Up local d=c.ScrollDownButton or a.scrolldownbutton or shared.scrolldownbutton or Enum.KeyCode.Down ab=ab and(ab:Disconnect()and nil)or E.InputBegan:Connect(function(a)if a.UserInputType==Enum.UserInputType.Keyboard then local c=a.KeyCode local e=c==b local g=c==d if e or g then local a=E:GetFocusedTextBox()if not a or a==u then while f()and E:IsKeyDown(c)do y.CanvasPosition=Vector2:new(math.clamp(y.CanvasPosition.Y+(e and-5 or 5),0,y.AbsoluteCanvasSize.Y))end end end end end)a.signals[1+#a.signals]=ab end else X=nil s.Rotation=90 R[3]="topGradient"R[4]=nil S[3]="bottomGradient"S[4]=nil;(p:Create(o,TweenInfo.new(.35,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=a.colors.topGradient,ImageColor3=a.colors.bottomGradient})):Play()w.Visible=false for a,b in next,W do a.ZIndex=b end ab=ab and(ab:Disconnect()and nil)or nil end if not F and(not next(M)or not table.find(M,b[l]))then Y(M[1])end T=d if T or d then else delay(.01,bb)end end a.signals[1+#a.signals]=m.InputEnded:Connect(function(b)if not a.colorpicker and b.UserInputType==Enum.UserInputType.MouseButton1 then T=not T cb(T)end end)a.signals[1+#a.signals]=m.MouseEnter:Connect(function()R[3]="main"R[4]=1.5 S[3]="main"S[4]=2.5;(p:Create(o,TweenInfo.new(.25,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=darkenColor(a.colors.main,1.5);ImageColor3=darkenColor(a.colors.main,2.5)})):Play()end)a.signals[1+#a.signals]=m.MouseLeave:Connect(function()if not D then R[3]="topGradient"R[4]=nil S[3]="bottomGradient"S[4]=nil;(p:Create(o,TweenInfo.new(.25,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=a.colors.topGradient,ImageColor3=a.colors.bottomGradient})):Play()end end)a.signals[1+#a.signals]=s.MouseButton1Click:Connect(function()if not a.colorpicker then T=not T cb(T)end end)Z(M)local db=b[l]function bb()e,i=c.Name or e,c.Callback local a=O=="string"and F or b[l]and tostring(b[l])or N and tostring(N)or K or"nil"if u.Text~=a then u.Text=a end v.Text=e and tostring(e)or"???"return a end local function eb(a)if M and table.find(M,b[l])then bb()return true end if a~=nil then if a=="__DEFAULT"then a=a end else a=M[1]end return Y(F and{a}or a)end local fb={Options=c;Name=l;Flag=l;Type="Dropdown";Default=db,Parent=C;Instance=u;Get=function()return b[l]end;Set=Y,Remove=function()if m then m.Parent=nil C:Update()end end,RawSet=F and function(a,c)if nil==c and a~=nil then c=a end local d=b[l]if not d or N~=d then if d and type(d)=="table"then N=b[l]else b[l]=N end warn("Attempting to use new table for",l," Please use :Set(), as setting through flags table may cause errors",debug.traceback(""))d=b[l]end local e={unpack(N)}if not c then if#N~=0 then table.clear(N)end return N elseif type(c)~="table"then warn("Expected table for argument #1 on Set for MultiSelect dropdown. Got",c,debug.traceback(""))return N end for a=(table.pack(unpack(c))).n,1,-1 do if c[a]==nil then table.remove(c,a)end end table.clear(N)for a,b in next,c do N[a]=b end return N end or function(a,d)if nil==d and a~=nil then d=a end N=d b[l]=d if c.Location then c.Location[c.LocationFlag or l]=d end bb()return d end;Update=bb,Reset=function()return Y(nil,db)end}function fb.UpdateList(a,b,d)if nil==b and a~=nil or type(a)=="table"and type(b)~="table"then b,d=a,b end if b==fb then b=nil end L=B(b or c.List,c.Filter,c.Method)M=L()if d then eb()end if T then cb(false)cb(true)end return M end U.Flags[l],C.Flags[l],t[l]=fb,fb,fb return fb end C.AddDropDown=C.AddDropdown C.NewDropDown=C.AddDropdown C.NewDropdown=C.AddDropdown C.CreateDropdown=C.AddDropdown C.CreateDropdown=C.AddDropdown C.DropDown=C.AddDropdown C.Dropdown=C.AddDropdown C.DD=C.AddDropdown C.Dd=C.AddDropdown function C.AddColorpicker(g,e,...)e=e and(type(e)=="string"and j("Colorpicker",e,...))or e if e.Random==true then e.Value="random"elseif e.Rainbow==true then e.Value="rainbow"end local h,i,l,m=assert(e.Name,"Missing Name for new colorpicker."),e.Value,e.Callback,e.Flag or(function()a.unnamedcolorpicker=1+(a.unnamedcolorpicker or 0)return"Colorpicker"..tostring(a.unnamedcolorpicker)end)()if t[m]~=nil then warn(debug.traceback("Warning! Re-used flag \'"..(m.."\'"),3))end local o=e.__designer e.__designer=nil local s=false if i=="random"then i=Color3.new(math.random(),math.random(),math.random())elseif i=="rainbow"then i=Color3.new(1,1,1)s=true end local v=z("Frame")local w=z("ImageLabel")local x=z("ImageLabel")local y=z("TextLabel")local A=z("TextButton")local B=z("ImageLabel")local D=z("ImageLabel")local E=z("ImageLabel")local G=z("Frame")local I=z("ImageLabel")local J=z("UIGradient")local O=z("Frame")local P=z("ImageLabel")local Q=z("ImageLabel")local R=z("ImageButton")local S=z("TextBox")local T=z("ImageLabel")local V=z("ImageLabel")local W=z("ImageLabel")local Y=z("ImageLabel")local Z=z("ImageButton")local ab=i or Color3.new(1,1,1)local bb=false local cb,db,eb=1,1,1 local fb,gb=nil,nil local hb=Color3.new()local ib=hb local jb=hb local kb=0 v.Name="newColorPicker"v.Parent=q v.BackgroundColor3=Color3.new(1,1,1)v.BackgroundTransparency=1 v.Size=UDim2.new(1,0,0,19)w.Name="colorPicker"w.Parent=v w.Active=true w.BackgroundColor3=a.colors.topGradient local lb={w;"BackgroundColor3";"topGradient"}n[1+#n]=lb w.BorderColor3=a.colors.elementBorder n[1+#n]={w;"BorderColor3";"elementBorder"}w.Position=UDim2.fromScale(.842,.113)w.Selectable=true w.Size=UDim2.fromOffset(24,12)w.Image="rbxassetid://2454009026"w.ImageColor3=a.colors.bottomGradient local mb={w,"ImageColor3","bottomGradient"}n[1+#n]=mb x.Name="colorPickerInner"x.Parent=w x.Active=true x.AnchorPoint=Vector2.new(.5,.5)x.BorderColor3=a.colors.elementBorder n[1+#n]={x,"BorderColor3","elementBorder"}x.Position=UDim2.fromScale(.5,.5)x.Selectable=true x.Size=UDim2.new(1,-4,1,-4)x.Image="rbxassetid://2454009026"x.BackgroundColor3=darkenColor(ab,1.5)x.ImageColor3=darkenColor(ab,2.5)y.Name="colorPickerHeadline"y.Parent=v y.BackgroundColor3=Color3.new(1,1,1)y.BackgroundTransparency=1 y.Position=UDim2.fromScale(.034,.113)y.Size=UDim2.fromOffset(173,11)y.Font=Enum.Font.Code y.Text=h or"???"y.TextColor3=a.colors.elementText n[1+#n]={y;"TextColor3","elementText"}y.TextSize=14 y.TextXAlignment=Enum.TextXAlignment.Left A.Name="colorPickerButton"A.Parent=v A.BackgroundColor3=Color3.new(1,1,1)A.BackgroundTransparency=1 A.Size=UDim2.fromScale(1,1)A.ZIndex=5 A.Font=Enum.Font.SourceSans A.Text=""A.TextColor3=Color3.new()A.TextSize=14 A.TextTransparency=1 A.BorderColor3=a.colors.elementBorder local nb={A,"BorderColor3";"elementBorder"}n[1+#n]=nb local function ob(a,c)local d=b[m]local f=a or Color3.fromHSV(cb,db,eb)if not a then cb,db,eb=f:ToHSV()end x.BackgroundColor3=darkenColor(f,1.5)x.ImageColor3=darkenColor(f,2.5)E.BackgroundColor3=Color3.fromHSV(cb,1,1)b[m]=f if e.Location then e.Location[e.LocationFlag or m]=f end S.Text=M(f)if a then E.BackgroundColor3=a G.Position=UDim2.new(a and select(3,Color3.toHSV(a)))end local g=1-Color3.toHSV(f)local h=O.Position.X.Scale if h~=g and not((g==0 or g==1)and(h==1 or h==0))then O.Position=UDim2.new(g)end if l and d~=f then task.spawn(l,f,d,c)end end a.signals[1+#a.signals]=A.MouseButton1Click:Connect(function()if X==w or X==nil then bb=not bb a.colorpicker=bb B.Visible=bb if bb then for a,b in next,u do b.Visible=false end X=w v.ZIndex=2 k.ZIndex=100+k.ZIndex A.BorderColor3=a.colors.main nb[3]="main"ob()else for a,b in next,u do b.Visible=true end X=nil v.ZIndex=0 k.ZIndex=k.ZIndex-100 A.BorderColor3=a.colors.elementBorder nb[3]="elementBorder"end end end)B.Name="colorPickerHolderFrame"B.Parent=v B.Active=true B.BackgroundColor3=a.colors.topGradient n[1+#n]={B;"BackgroundColor3";"topGradient"}B.BorderColor3=a.colors.elementBorder n[1+#n]={B;"BorderColor3";"elementBorder"}B.Selectable=true B.Position=UDim2.fromScale(.025,1.012)B.Size=UDim2.fromOffset(206,250)if math.ceil(B.AbsolutePosition.Y+B.AbsoluteSize.Y)>L(r.AbsoluteSize.Y+r.AbsolutePosition.Y)then B.Position=UDim2.new(.025,0,1.012,(-B.AbsoluteSize.Y-A.AbsoluteSize.Y)-2)end B.Visible=false B.Image="rbxassetid://2454009026"B.ImageColor3=a.colors.bottomGradient n[1+#n]={B,"ImageColor3";"bottomGradient"}D.Name="colorPickerHolderInner"D.Parent=B D.Active=true D.AnchorPoint=Vector2.new(.5,.5)D.BackgroundColor3=a.colors.topGradient n[1+#n]={D;"BackgroundColor3","topGradient"}D.BorderColor3=a.colors.elementBorder n[1+#n]={D,"BorderColor3";"elementBorder"}D.Position=UDim2.fromScale(.5,.5)D.Selectable=true D.Size=UDim2.new(1,-4,1,-4)D.Image="rbxassetid://2454009026"D.ImageColor3=a.colors.bottomGradient n[1+#n]={D;"ImageColor3","bottomGradient"}E.Name="color"E.Parent=D E.BackgroundColor3=ab E.BorderSizePixel=0 E.Position=UDim2.fromOffset(5,5)E.Size=UDim2.new(1,-10,0,192)E.Image="rbxassetid://4155801252"G.Name="selectorColor"G.Parent=E G.AnchorPoint=Vector2.new(.5,.5)G.BackgroundColor3=Color3.fromRGB(144,144,144)G.BorderColor3=Color3.fromRGB(69,65,70)G.Position=UDim2.new(ab and select(3,Color3.toHSV(ab)))G.Size=UDim2.fromOffset(4,4)I.Name="hue"I.Parent=D I.BackgroundColor3=Color3.new(1,1,1)I.BorderSizePixel=0 I.Position=UDim2.fromOffset(5,202)I.Size=UDim2.new(1,-10,0,14)I.Image="rbxassetid://3570695787"I.ScaleType=Enum.ScaleType.Slice I.SliceScale=.01 J.Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.fromRGB(255,0,4));ColorSequenceKeypoint.new(.17,Color3.fromRGB(235,7,255)),ColorSequenceKeypoint.new(.33,Color3:fromRGB(9,189)),ColorSequenceKeypoint.new(.5,Color3:fromRGB(193,196)),ColorSequenceKeypoint.new(.66,Color3:new(1));ColorSequenceKeypoint.new(.84,Color3.fromRGB(255,247));ColorSequenceKeypoint.new(1,Color3.new(1))})J.Name="hueGradient"J.Parent=I O.Name="selectorHue"O.Parent=I O.BackgroundColor3=Color3:fromRGB(125,255)O.BackgroundTransparency=.2 O.BorderColor3=Color3:fromRGB(84,91)O.Position=UDim2.new(1-Color3.toHSV(ab))O.Size=UDim2:new(2,1)T.Name="hexInput"T.Parent=D T.Active=true T.BackgroundColor3=a.colors.topGradient n[1+#n]={T,"BackgroundColor3","topGradient"}T.BorderColor3=a.colors.elementBorder n[1+#n]={T,"BorderColor3","elementBorder"}T.Position=UDim2.fromOffset(5,223)T.Selectable=true T.Size=UDim2.fromOffset(150,18)T.Image="rbxassetid://2454009026"T.ImageColor3=a.colors.bottomGradient n[1+#n]={T;"ImageColor3","bottomGradient"}V.Name="hexInputInner"V.Parent=T V.Active=true V.AnchorPoint=Vector2.new(.5,.5)V.BackgroundColor3=a.colors.topGradient n[1+#n]={V;"BackgroundColor3";"topGradient"}V.BorderColor3=a.colors.elementBorder n[1+#n]={V;"BorderColor3","elementBorder"}V.Position=UDim2.fromScale(.5,.5)V.Selectable=true V.Size=UDim2.new(1,-4,1,-4)V.Image="rbxassetid://2454009026"V.ImageColor3=a.colors.bottomGradient n[1+#n]={V;"ImageColor3";"bottomGradient"}S.Name="hexInputBox"S.Parent=T S.BackgroundColor3=Color3.new(1,1,1)S.BackgroundTransparency=1 S.Size=UDim2.fromScale(1,1)S.ZIndex=5 S.Font=Enum.Font.Code S.PlaceholderText="Hex Input"S.Text=M(ab)S.TextColor3=a.colors.elementText n[1+#n]={S,"TextColor3","elementText"}S.TextSize=14 S.ClearTextOnFocus=false P.Name="randomColor"P.Parent=D P.Active=true P.BackgroundColor3=a.colors.topGradient n[1+#n]={P;"BackgroundColor3","topGradient"}P.BorderColor3=a.colors.elementBorder n[1+#n]={P,"BorderColor3","elementBorder"}P.Position=UDim2.fromOffset(158,223)P.Selectable=true P.Size=UDim2.fromOffset(18,18)P.Image="rbxassetid://2454009026"P.ImageColor3=a.colors.bottomGradient n[1+#n]={P,"ImageColor3","bottomGradient"}Q.Name="randomColorInner"Q.Parent=P Q.Active=true Q.AnchorPoint=Vector2.new(.5,.5)Q.BackgroundColor3=a.colors.topGradient n[1+#n]={Q;"BackgroundColor3","topGradient"}Q.BorderColor3=a.colors.elementBorder n[1+#n]={Q,"BorderColor3","elementBorder"}Q.Position=UDim2.fromScale(.5,.5)Q.Selectable=true Q.Size=UDim2.new(1,-4,1,-4)Q.Image="rbxassetid://2454009026"Q.ImageColor3=a.colors.bottomGradient n[1+#n]={Q;"ImageColor3","bottomGradient"}R.Name="randomColorButton"R.Parent=P R.BackgroundColor3=Color3.new(1,1,1)R.BackgroundTransparency=1 R.Size=UDim2.fromScale(1,1)R.ZIndex=5 R.Image="rbxassetid://7484765651"W.Name="rainbow"W.Parent=D W.Active=true W.BackgroundColor3=a.colors.topGradient n[1+#n]={W,"BackgroundColor3";"topGradient"}W.BorderColor3=a.colors.elementBorder n[1+#n]={W;"BorderColor3";"elementBorder"}W.Position=UDim2.fromOffset(180,223)W.Selectable=true W.Size=UDim2.fromOffset(18,18)W.Image="rbxassetid://2454009026"W.ImageColor3=a.colors.bottomGradient n[1+#n]={W,"ImageColor3";"bottomGradient"}Y.Name="rainbowInner"Y.Parent=P Y.Active=true Y.AnchorPoint=Vector2.new(.5,.5)Y.BackgroundColor3=a.colors.topGradient n[1+#n]={Y;"BackgroundColor3";"topGradient"}Y.BorderColor3=a.colors.elementBorder n[1+#n]={Y;"BorderColor3","elementBorder"}Y.Position=UDim2.fromScale(.5,.5)Y.Selectable=true Y.Size=UDim2.new(1,-4,1,-4)Y.Image="rbxassetid://2454009026"Y.ImageColor3=a.colors.bottomGradient n[1+#n]={Y;"ImageColor3","bottomGradient"}Z.Name="rainbowButton"Z.Parent=W Z.BackgroundColor3=Color3.new(1,1,1)Z.BackgroundTransparency=1 Z.Size=UDim2.fromScale(1,1)Z.ZIndex=5 Z.Image="rbxassetid://7484772919"local pb=o and"rainbows"or"rainbowsg"local function qb(g,h)if nil==h and g~=nil then h=g end if h==nil or type(h)~="boolean"then s=not s else s=h end if fb then fb=fb:Disconnect()and nil or nil end if gb then gb=gb:Disconnect()and nil or nil end pcall(function()if c and a.rainbows<=0 then c=nil end if d and a.rainbowsg<=0 then d=nil end end)if s then pcall(function()if not a.rainbowflags[m]then a[pb]=1+a[pb]end a.rainbowflags[m]=true ib=x.ImageColor3 hb=x.BackgroundColor3 jb=E.BackgroundColor3 pcall(function()local a=.003921568627451 while f()and(s and(e.Value=="rainbow"or not o and not d or o and not c))do kb=a+kb if kb>1 then kb=0 end cb=kb ob(Color3.fromHSV(kb,1,1),true)end end)end)pcall(function()s=nil if a.rainbowflags[m]then a[pb]=a[pb]-1 end a.rainbowflags[m]=nil end)end ob(b[m])end a.signals[1+#a.signals]=R.MouseButton1Click:Connect(function()if s then qb(false)end ob(Color3.fromRGB(math.random(0,255),math.random(0,255),math.random(0,255)))end)a.signals[1+#a.signals]=Z.MouseButton1Click:Connect(qb)C:Update()a.signals[1+#a.signals]=v.MouseEnter:Connect(function()(p:Create(w,TweenInfo.new(.25,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=darkenColor(a.colors.main,1.5),ImageColor3=darkenColor(a.colors.main,2.5)})):Play()lb[3]="main"lb[4]=1.5 mb[3]="main"mb[4]=2.5 end)a.signals[1+#a.signals]=v.MouseLeave:Connect(function()if not bb then(p:Create(w,TweenInfo.new(.25,a.configuration.easingStyle,a.configuration.easingDirection),{BackgroundColor3=a.colors.topGradient;ImageColor3=a.colors.bottomGradient})):Play()lb[3]="topGradient"lb[4]=nil mb[3]="bottomGradient"mb[4]=nil end end)S.FocusLost:Connect(function()if#S.Text>5 then local a=b[m]local c,d=pcall(K,S.Text)ob(c and d or a)end end)cb=1-math.clamp(O.AbsolutePosition.X-I.AbsolutePosition.X,0,I.AbsoluteSize.X)/I.AbsoluteSize.X db=math.clamp(G.AbsolutePosition.X-E.AbsolutePosition.X,0,E.AbsoluteSize.X)/E.AbsoluteSize.X eb=1-math.clamp(G.AbsolutePosition.Y-E.AbsolutePosition.Y,0,E.AbsoluteSize.Y)/E.AbsoluteSize.Y a.signals[1+#a.signals]=E.InputBegan:Connect(function(b)if b.UserInputType==Enum.UserInputType.MouseButton1 then N=true fb=fb and(fb:Disconnect()and nil)or F.RenderStepped:Connect(function()local a=math.clamp(H.X-E.AbsolutePosition.X,0,E.AbsoluteSize.X)/E.AbsoluteSize.X local b=math.clamp(H.Y-E.AbsolutePosition.Y,0,E.AbsoluteSize.Y)/E.AbsoluteSize.Y G.Position=UDim2.fromScale(a,b)db=a eb=1-b ob()end)a.signals[1+#a.signals]=fb end end)a.signals[1+#a.signals]=E.InputEnded:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseButton1 then if fb then N=false fb:Disconnect()end end end)a.signals[1+#a.signals]=I.InputBegan:Connect(function(b)if b.UserInputType==Enum.UserInputType.MouseButton1 then if gb then gb:Disconnect()end N=true gb=F.RenderStepped:Connect(function()local a=math.clamp(H.X-I.AbsolutePosition.X,0,I.AbsoluteSize.X)/I.AbsoluteSize.X O.Position=UDim2.new(a)cb=1-a ob()end)a.signals[1+#a.signals]=gb end end)a.signals[1+#a.signals]=I.InputEnded:Connect(function(a)if gb and a.UserInputType==Enum.UserInputType.MouseButton1 then N=false gb:Disconnect()end end)if s then spawn(function()s=nil qb(true)end)end local function rb(a,c)if c==nil and a~=nil then c=a end if c=="rainbow"then if not s then task.spawn(qb,true)end return elseif c=="random"then c=Color3.new(math.random(),math.random(),math.random())elseif type(c)=="string"and tonumber(c,16)then c=K(c)end task.spawn(qb,false)local d=b[m]b[m]=c if e.Location then e.Location[e.LocationFlag or m]=c end E.BackgroundColor3=c G.Position=UDim2.new(c and select(3,Color3.toHSV(c)))O.Position=UDim2.new(1-Color3.toHSV(c))x.BackgroundColor3=darkenColor(c,1.5)x.ImageColor3=darkenColor(c,2.5)S.Text=M(c)cb,db,eb=Color3.toHSV(c)if l and(d~=c or e.AllowDuplicateCalls)then task.spawn(l,c,d)end return c end if i~=nil then rb(i)else b[m]=ab if e.Location then e.Location[e.LocationFlag or m]=ab end end local sb=e.Value or ab or b[m]local function tb()h,l=e.Name or h,e.Callback local a=b[m]E.BackgroundColor3=a G.Position=UDim2.new(a and select(3,Color3.toHSV(a)))O.Position=UDim2.new(1-Color3.toHSV(a))x.BackgroundColor3=darkenColor(a,1.5)x.ImageColor3=darkenColor(a,2.5)S.Text=M(a)y.Text=h or"???"return a end local ub={Options=e;Name=m;Flag=m,Type="Colorpicker";Default=sb;Parent=C;Instance=v;SetRainbow=qb;Get=function()return b[m]end;GetRainbow=function()return s end;Set=rb;Remove=function()if v then v.Parent=nil C:Update()end end,RawSet=function(a,c)if c==nil and a~=nil then c=a end if c=="rainbow"then if not s then task.spawn(qb,true)end return c elseif c=="random"then c=Color3.new(math.random(),math.random(),math.random())elseif c and(type(c)=="string"and tonumber(c,16))then c=K(c)end task.spawn(qb,false)b[m]=c if e.Location then e.Location[e.LocationFlag or m]=c end return c end,Update=tb,Reset=function()return rb(nil,sb)end}U.Flags[m],C.Flags[m],t[m]=ub,ub,ub return ub end C.AddColorPicker=C.AddColorpicker C.NewColorpicker=C.AddColorpicker C.NewColorPicker=C.AddColorpicker C.CreateColorPicker=C.AddColorpicker C.CreateColorpicker=C.AddColorpicker C.ColorPicker=C.AddColorpicker C.Colorpicker=C.AddColorpicker C.Cp=C.AddColorpicker C.CP=C.AddColorpicker return C end U.AddSection=U.CreateSection U.NewSection=U.CreateSection U.Section=U.CreateSection U.Sec=U.CreateSection U.S=U.CreateSection function U.UpdateAll(a)local b=a or U if b and(type(b)=="table"and b.Flags)then for a,b in next,b.Flags do if b and(type(b)=="table"and b.Update)then pcall(b.Update)end end end end return U end Z.AddTab=Z.CreateTab Z.NewTab=Z.CreateTab Z.Tab=Z.CreateTab Z.T=Z.CreateTab function Z.CreateDesigner(e,d,...)d=d and(type(d)=="string"and j("Tab",d,...))or d assert(shared.bypasstablimit or a.Designer==nil,"Designer already exists")d=d or{}d.Image=d.Image or 7483871523 d.LastTab=true local f=Z:CreateTab(d)local h=f:CreateSection({Name="Colors"})local i=f:CreateSection({Name="Background",Side="right"})local k=f:CreateSection({Name="More Info"})local l=f:CreateSection({Name="Profiles";Side="right"})local n=f:CreateSection({Name="Settings";Side="right"})local o={}a.designerelements=o for b,c in next,{{"Main","main"},{"Background";"background"};{"Outer Border";"outerBorder"};{"Inner Border";"innerBorder"},{"Top Gradient";"topGradient"},{"Bottom Gradient","bottomGradient"},{"Section Background","sectionBackground"};{"Section";"section"};{"Element Text";"elementText"};{"Other Element Text";"otherElementText"},{"Tab Text";"tabText"},{"Element Border","elementBorder"},{"Selected Option";"selectedOption"},{"Unselected Option";"unselectedOption"},{"Hovered Option Top";"hoveredOptionTop"},{"Unhovered Option Top";"unhoveredOptionTop"};{"Hovered Option Bottom","hoveredOptionBottom"},{"Unhovered Option Bottom";"unhoveredOptionBottom"}}do local d,e=c[1],c[2]local f="__Designer.Colors."..e o[e]={Return=h:AddColorpicker({Name=d;Flag=f,Value=a.colors[e];Callback=function(b,c)a.colors[e]=b or c end,__designer=1});Flag=f}end local p={}local q={Name="Workspace Profile",Flag="__Designer.Background.WorkspaceProfile",Flags=true;Suffix="Config";Workspace=a.WorkspaceName or"Unnamed Workspace";Desginer=true}local r={{"AddTextbox","__Designer.Textbox.ImageAssetID";i,{Name="Image Asset ID";Placeholder="rbxassetid://4427304036";Flag="__Designer.Background.ImageAssetID",Value="rbxassetid://4427304036";Callback=s}},{"AddColorpicker","__Designer.Colorpicker.ImageColor";i;{Name="Image Color",Flag="__Designer.Background.ImageColor",Value=Color3.new(1,1,1),Callback=s;__designer=1}};{"AddSlider";"__Designer.Slider.ImageTransparency",i;{Name="Image Transparency",Flag="__Designer.Background.ImageTransparency";Value=95;Min=0;Max=100,Format="Image Transparency: %s%%";Textbox=true;Callback=s}},{"AddToggle";"__Designer.Toggle.UseBackgroundImage",i;{Name="Use Background Image";Flag="__Designer.Background.UseBackgroundImage",Value=true;Callback=s}},{"AddPersistence","__Designer.Persistence.ThemeFile";l,{Name="Theme Profile";Flag="__Designer.Files.ThemeFile";Workspace="Pepsi Lib Themes";Flags=p,Suffix="Theme",Desginer=true}},{"AddTextbox","__Designer.Textbox.WorkspaceName";l,{Name="Workspace Name";Value=a.WorkspaceName or"Unnamed Workspace";Flag="__Designer.Files.WorkspaceFile",Callback=function(a,b)q.Workspace=a or b end}},{"AddPersistence";"__Designer.Persistence.WorkspaceProfile",l,q},{"AddButton","__Designer.Button.TerminateGUI",n;{{Name="Terminate GUI",Callback=a.unload},{Name="Reset GUI";Callback=C};{Name="Reset Designer",Callback=function()c=true pcall(function()for a,c in next,t do if c and(a and(c.Set and(c.Default~=nil and(b[a]~=c.Default and string.sub(a,1,11)=="__Designer."))))then c:Set(c.Default)end end end)end}}};{"AddKeybind";"__Designer.Keybind.ShowHideKey",n;{Name="Show/Hide Key",Location=a.configuration;Flag="__Designer.Settings.ShowHideKey",LocationFlag="hideKeybind",Value=a.configuration.hideKeybind,CoreBinding=true;Callback=function()g=os.clock()end}},{"AddLabel";"__Designer.Label.Version",n;{Name="Library Version: "..tostring(a.Version or"?")}}}if setclipboard and r[8]then local c=r[8][4]if c then c[1+#c]={Name="Copy Theme",Callback=function()local c={}if#p>0 then for a,b in next,p do if a>0 then local a=t[b]if a and(a.Type~="Persistence"and string.sub(b,1,11)=="__Designer.")then c[b]=a end end end end local d={}for c in next,c do local e=b[c]local f,g=nil,nil if e~=nil then f,g=P(e)else f,g=true,"null"end if not f or g=="null"and e~=nil then local b=typeof(e)if b=="Color3"then e=a.rainbowflags[c]and"rainbow"or M(e)end e=tostring(e)f,g=P(e)if not f or g=="null"and e~=nil then warn("Could not save value:",e,debug.traceback(""))end end if f and g then d[c]=e end end local e,f=P(d)if e and f then setclipboard(f)end end}c=nil end end if d.Credit~=false then r[1+#r]={"AddLabel","__Designer.Label.Creator";k,{Text="Library by Pepsi#5229 "}}elseif"Gee, thanks for your support."then end if d.Info then local a=type(d.Info)if a=="string"then r[1+#r]={"AddLabel";"__Designer.Label.Creator";k,{Text=d.Info}}elseif a=="table"and#d.Info>0 then for a,b in next,d.Info do r[1+#r]={"AddLabel";"__Designer.Label.Creator",k,{Text=tostring(b)}}end end end for a,b in next,r do o[b[2]]=b[3][b[1]](b[3],b[4])end o["__Designer.Textbox.WorkspaceName"]:Set(a.WorkspaceName or"Unnamed Workspace")for a,b in next,t do if b and(a and(string.sub(a,1,11)=="__Designer."and(b.Type and b.Type~="Persistence")))then p[1+#p]=a end end if a.Backdrop then a.Backdrop.Image=m(b["__Designer.Background.ImageAssetID"],"__Designer.Background.ImageAssetID")or""a.Backdrop.Visible=b["__Designer.Background.UseBackgroundImage"]and true a.Backdrop.ImageTransparency=(b["__Designer.Background.ImageTransparency"]or 95)/100 a.Backdrop.ImageColor3=b["__Designer.Background.ImageColor"]or Color3.new(1,1,1)end local function u(a,c,d,e)if e==nil and(a~=nil and type(a)~="table")then c,d,e=a,d,e end if e==0 or(c==0 or c==false)and(e==nil and d==nil)then e=false elseif e==1 or(c==1 or c==true)and(e==nil and d==nil)then e=true elseif c==nil and(d==nil and e==nil)then e=not b["__Designer.Background.UseBackgroundImage"]end local f=c and type(c)if d==nil and(e==nil and(f=="number"and(c~=1 and c~=0 or c>0 and c<=100)))then d,c,f=c,nil end if f and(f=="number"and c>1 or f=="string")then o["__Designer.Textbox.ImageAssetID"]:Set(c)end f=tonumber(d)f=f>=0 and(f<=1 and f*100)or f if f then o["__Designer.Slider.ImageTransparency"]:Set(f)end if e~=nil then o["__Designer.Toggle.UseBackgroundImage"]:Set(e and true)end return c,d,e end local v=d.Background or d.Backdrop or d.Grahpic if v then if type(v)=="table"then u(v.Asset or v[1],v.Transparency or v[2],v.Visible or v[3])else u(v,0,1)end end a.Designer={Options=d;Parent=Z,Name="Designer",Flag="Designer";Type="Designer",Instance=f;SetBackground=u,Remove=f.Remove}a.SetBackground=u local w=a.elements["__Designer.Background.WorkspaceProfile"]if w then a.LoadFile=w.LoadFile a.LoadFileRaw=w.LoadFileRaw a.LoadJSON=w.LoadJSON a.LoadJSONRaw=w.LoadJSONRaw a.SaveFile=w.SaveFile a.GetJSON=w.GetJSON end spawn(s)local x=nil if d.HideTheme then f.Remove()x=true elseif d.LockTheme then if h then h.Remove()x=true end if i then i.Remove()x=true end if o then local a=o["__Designer.Persistence.ThemeFile"]if a then a.Remove()x=true end a=o["__Designer.Button.TerminateGUI"]a=a and a[3]if a then a.Remove()x=true end end end if x then Z:UpdateAll()end return a.Designer end Z.AddDesigner=Z.CreateDesigner Z.NewDesigner=Z.CreateDesigner Z.Designer=Z.CreateDesigner Z.D=Z.CreateDesigner function Z.UpdateAll(c)local d=c or Z if d and(type(d)=="table"and d.Flags)then for a,b in next,d.Flags do if b and type(b)=="table"then if b.Update then pcall(b.Update)end if b.UpdateAll then pcall(b.Update)end end end pcall(function()if a.Backdrop then a.Backdrop.Visible=b["__Designer.Background.UseBackgroundImage"]and true a.Backdrop.Image=m(b["__Designer.Background.ImageAssetID"],"__Designer.Background.ImageAssetID")or""a.Backdrop.ImageColor3=b["__Designer.Background.ImageColor"]or Color3.new(1,1,1)a.Backdrop.ImageTransparency=(b["__Designer.Background.ImageTransparency"]or 95)/100 end end)end end a.UpdateAll=Z.UpdateAll if e.Themeable or e.DefaultTheme or e.Theme then spawn(function()local b=os.clock local c=b()while b()-c<12 do if i then Z.GoHome=i local a,b=pcall(i)if not a and b then warn("Error going to Homepage:",b)end a,b=nil break end task.wait()end local d=e.Themeable or e.DefaultTheme or e.Theme if type(d)=="table"then d.LockTheme=d.LockTheme or e.LockTheme or nil d.HideTheme=d.HideTheme or e.HideTheme or nil else d=nil end Z:CreateDesigner(d)if e.DefaultTheme or e.Theme then spawn(function()local b=e.DefaultTheme or e.Theme or e.JSON or e.ThemeJSON if b and(type(b)=="string"and#b>1)then local c,d=Q(b)if c and d then for b,c in next,d do local d=t[b]if d and d.Type~="Persistence"then if d.Set then d:Set(c)elseif d.RawSet then d:RawSet(c)else a.flags[b]=c end end end end end end)end b,c=nil end)end return Z end a.NewWindow=a.CreateWindow a.AddWindow=a.CreateWindow a.Window=a.CreateWindow a.W=a.CreateWindow return a,b,a.subs